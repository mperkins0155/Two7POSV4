import{j as a,S as Ua,R as An,a as _n,I as Tn,b as Ha,O as Pn,P as za,C as In,c as Wa,T as Fn,D as $n,d as Ga,e as kn,f as Va}from"./ui-vendor-C5UNauaP.js";import{a as Ja,g as Ka,d as _r,e as Qa,r as b,u as he,f as Xa,h as Ya,b as T,B as Za,i as es,j as ne,N as sr}from"./router-vendor-Bb6iTSAg.js";import{t as ts,c as rs,a as xr,S as Dn,C as ns,T as as,M as ss,P as os,X as is,b as ls,H as cs,d as ds,L as us,A as wt,e as fs,f as ps,g as ms,E as hs,D as ys,h as xs,B as gs,U as vs,i as bs,j as ws}from"./utils-vendor-Afc_fFL-.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();const Pe={routeTree:[{path:"/login",hasElement:!0,elementName:"Login",isWildcard:!1,isIndex:!1},{path:"/auth/callback",hasElement:!0,elementName:"AuthCallback",isWildcard:!1,isIndex:!1},{path:"/onboarding",hasElement:!0,elementName:"ProtectedRoute",isWildcard:!1,isIndex:!1},{path:"/pos",hasElement:!0,elementName:"ProtectedRoute",isWildcard:!1,isIndex:!1},{path:"/pos/checkout",hasElement:!0,elementName:"ProtectedRoute",isWildcard:!1,isIndex:!1},{path:"/pos/receipt/:orderId",hasElement:!0,elementName:"ProtectedRoute",isWildcard:!1,isIndex:!1},{path:"/orders",hasElement:!0,elementName:"ProtectedRoute",isWildcard:!1,isIndex:!1},{path:"/reports",hasElement:!0,elementName:"ProtectedRoute",isWildcard:!1,isIndex:!1},{path:"/settings",hasElement:!0,elementName:"ProtectedRoute",isWildcard:!1,isIndex:!1},{path:"/",hasElement:!0,elementName:"Navigate",isWildcard:!1,isIndex:!1}],routes:[{path:"/login",elementName:"Login"},{path:"/auth/callback",elementName:"AuthCallback"},{path:"/onboarding",elementName:"ProtectedRoute"},{path:"/pos",elementName:"ProtectedRoute"},{path:"/pos/checkout",elementName:"ProtectedRoute"},{path:"/pos/receipt/:orderId",elementName:"ProtectedRoute"},{path:"/orders",elementName:"ProtectedRoute"},{path:"/reports",elementName:"ProtectedRoute"},{path:"/settings",elementName:"ProtectedRoute"},{path:"/",elementName:"Navigate"}],pageCount:0,total:10,generatedAt:"2026-02-08T15:38:23.483Z"};Pe.routeTree;Pe.routes;Pe.pageCount;Pe.total;function Tr(){if(console.log("[routes-scanner] notifyParentWindow",Pe),typeof window<"u"&&window.parent&&window.parent!==window)try{window.parent.postMessage({type:"routes-manifest",targetName:window.name,data:Pe},"*")}catch(t){console.warn("[routes-scanner] Failed to notify parent window:",t)}}typeof window<"u"&&(document.readyState==="complete"?Tr():window.addEventListener("load",Tr));var Ln,Pr=Ja;Ln=Pr.createRoot,Pr.hydrateRoot;function Mn(t,e){return function(){return t.apply(e,arguments)}}const{toString:js}=Object.prototype,{getPrototypeOf:gr}=Object,{iterator:jt,toStringTag:Bn}=Symbol,Nt=(t=>e=>{const r=js.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ae=t=>(t=t.toLowerCase(),e=>Nt(e)===t),St=t=>e=>typeof e===t,{isArray:ke}=Array,Ie=St("undefined");function Je(t){return t!==null&&!Ie(t)&&t.constructor!==null&&!Ie(t.constructor)&&Z(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qn=ae("ArrayBuffer");function Ns(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qn(t.buffer),e}const Ss=St("string"),Z=St("function"),Un=St("number"),Ke=t=>t!==null&&typeof t=="object",Es=t=>t===!0||t===!1,lt=t=>{if(Nt(t)!=="object")return!1;const e=gr(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Bn in t)&&!(jt in t)},Os=t=>{if(!Ke(t)||Je(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Rs=ae("Date"),Cs=ae("File"),As=ae("Blob"),_s=ae("FileList"),Ts=t=>Ke(t)&&Z(t.pipe),Ps=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Z(t.append)&&((e=Nt(t))==="formdata"||e==="object"&&Z(t.toString)&&t.toString()==="[object FormData]"))},Is=ae("URLSearchParams"),[Fs,$s,ks,Ds]=["ReadableStream","Request","Response","Headers"].map(ae),Ls=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qe(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),ke(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(Je(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let l;for(n=0;n<i;n++)l=o[n],e.call(null,t[l],l,t)}}function Hn(t,e){if(Je(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const be=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zn=t=>!Ie(t)&&t!==be;function or(){const{caseless:t,skipUndefined:e}=zn(this)&&this||{},r={},n=(s,o)=>{const i=t&&Hn(r,o)||o;lt(r[i])&&lt(s)?r[i]=or(r[i],s):lt(s)?r[i]=or({},s):ke(s)?r[i]=s.slice():(!e||!Ie(s))&&(r[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Qe(arguments[s],n);return r}const Ms=(t,e,r,{allOwnKeys:n}={})=>(Qe(e,(s,o)=>{r&&Z(s)?Object.defineProperty(t,o,{value:Mn(s,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),t),Bs=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),qs=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Us=(t,e,r,n)=>{let s,o,i;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)i=s[o],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&gr(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Hs=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},zs=t=>{if(!t)return null;if(ke(t))return t;let e=t.length;if(!Un(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Ws=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gr(Uint8Array)),Gs=(t,e)=>{const n=(t&&t[jt]).call(t);let s;for(;(s=n.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},Vs=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Js=ae("HTMLFormElement"),Ks=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Ir=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Qs=ae("RegExp"),Wn=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Qe(r,(s,o)=>{let i;(i=e(s,o,t))!==!1&&(n[o]=i||s)}),Object.defineProperties(t,n)},Xs=t=>{Wn(t,(e,r)=>{if(Z(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Z(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ys=(t,e)=>{const r={},n=s=>{s.forEach(o=>{r[o]=!0})};return ke(t)?n(t):n(String(t).split(e)),r},Zs=()=>{},eo=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function to(t){return!!(t&&Z(t.append)&&t[Bn]==="FormData"&&t[jt])}const ro=t=>{const e=new Array(10),r=(n,s)=>{if(Ke(n)){if(e.indexOf(n)>=0)return;if(Je(n))return n;if(!("toJSON"in n)){e[s]=n;const o=ke(n)?[]:{};return Qe(n,(i,l)=>{const u=r(i,s+1);!Ie(u)&&(o[l]=u)}),e[s]=void 0,o}}return n};return r(t,0)},no=ae("AsyncFunction"),ao=t=>t&&(Ke(t)||Z(t))&&Z(t.then)&&Z(t.catch),Gn=((t,e)=>t?setImmediate:e?((r,n)=>(be.addEventListener("message",({source:s,data:o})=>{s===be&&o===r&&n.length&&n.shift()()},!1),s=>{n.push(s),be.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Z(be.postMessage)),so=typeof queueMicrotask<"u"?queueMicrotask.bind(be):typeof process<"u"&&process.nextTick||Gn,oo=t=>t!=null&&Z(t[jt]),y={isArray:ke,isArrayBuffer:qn,isBuffer:Je,isFormData:Ps,isArrayBufferView:Ns,isString:Ss,isNumber:Un,isBoolean:Es,isObject:Ke,isPlainObject:lt,isEmptyObject:Os,isReadableStream:Fs,isRequest:$s,isResponse:ks,isHeaders:Ds,isUndefined:Ie,isDate:Rs,isFile:Cs,isBlob:As,isRegExp:Qs,isFunction:Z,isStream:Ts,isURLSearchParams:Is,isTypedArray:Ws,isFileList:_s,forEach:Qe,merge:or,extend:Ms,trim:Ls,stripBOM:Bs,inherits:qs,toFlatObject:Us,kindOf:Nt,kindOfTest:ae,endsWith:Hs,toArray:zs,forEachEntry:Gs,matchAll:Vs,isHTMLForm:Js,hasOwnProperty:Ir,hasOwnProp:Ir,reduceDescriptors:Wn,freezeMethods:Xs,toObjectSet:Ys,toCamelCase:Ks,noop:Zs,toFiniteNumber:eo,findKey:Hn,global:be,isContextDefined:zn,isSpecCompliantForm:to,toJSONObject:ro,isAsyncFn:no,isThenable:ao,setImmediate:Gn,asap:so,isIterable:oo};let O=class Vn extends Error{static from(e,r,n,s,o,i){const l=new Vn(e.message,r||e.code,n,s,o);return l.cause=e,l.name=e.name,i&&Object.assign(l,i),l}constructor(e,r,n,s,o){super(e),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.status}}};O.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";O.ERR_BAD_OPTION="ERR_BAD_OPTION";O.ECONNABORTED="ECONNABORTED";O.ETIMEDOUT="ETIMEDOUT";O.ERR_NETWORK="ERR_NETWORK";O.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";O.ERR_DEPRECATED="ERR_DEPRECATED";O.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";O.ERR_BAD_REQUEST="ERR_BAD_REQUEST";O.ERR_CANCELED="ERR_CANCELED";O.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";O.ERR_INVALID_URL="ERR_INVALID_URL";const io=null;function ir(t){return y.isPlainObject(t)||y.isArray(t)}function Jn(t){return y.endsWith(t,"[]")?t.slice(0,-2):t}function Fr(t,e,r){return t?t.concat(e).map(function(s,o){return s=Jn(s),!r&&o?"["+s+"]":s}).join(r?".":""):e}function lo(t){return y.isArray(t)&&!t.some(ir)}const co=y.toFlatObject(y,{},null,function(e){return/^is[A-Z]/.test(e)});function Et(t,e,r){if(!y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,h){return!y.isUndefined(h[x])});const n=r.metaTokens,s=r.visitor||d,o=r.dots,i=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(e);if(!y.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(y.isDate(p))return p.toISOString();if(y.isBoolean(p))return p.toString();if(!u&&y.isBlob(p))throw new O("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(p)||y.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,x,h){let w=p;if(p&&!h&&typeof p=="object"){if(y.endsWith(x,"{}"))x=n?x:x.slice(0,-2),p=JSON.stringify(p);else if(y.isArray(p)&&lo(p)||(y.isFileList(p)||y.endsWith(x,"[]"))&&(w=y.toArray(p)))return x=Jn(x),w.forEach(function(v,j){!(y.isUndefined(v)||v===null)&&e.append(i===!0?Fr([x],j,o):i===null?x:x+"[]",c(v))}),!1}return ir(p)?!0:(e.append(Fr(h,x,o),c(p)),!1)}const f=[],m=Object.assign(co,{defaultVisitor:d,convertValue:c,isVisitable:ir});function g(p,x){if(!y.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(p),y.forEach(p,function(w,S){(!(y.isUndefined(w)||w===null)&&s.call(e,w,y.isString(S)?S.trim():S,x,m))===!0&&g(w,x?x.concat(S):[S])}),f.pop()}}if(!y.isObject(t))throw new TypeError("data must be an object");return g(t),e}function $r(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function vr(t,e){this._pairs=[],t&&Et(t,this,e)}const Kn=vr.prototype;Kn.append=function(e,r){this._pairs.push([e,r])};Kn.toString=function(e){const r=e?function(n){return e.call(this,n,$r)}:$r;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function uo(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Qn(t,e,r){if(!e)return t;const n=r&&r.encode||uo,s=y.isFunction(r)?{serialize:r}:r,o=s&&s.serialize;let i;if(o?i=o(e,s):i=y.isURLSearchParams(e)?e.toString():new vr(e,s).toString(n),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class kr{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){y.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Xn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fo=typeof URLSearchParams<"u"?URLSearchParams:vr,po=typeof FormData<"u"?FormData:null,mo=typeof Blob<"u"?Blob:null,ho={isBrowser:!0,classes:{URLSearchParams:fo,FormData:po,Blob:mo},protocols:["http","https","file","blob","url","data"]},br=typeof window<"u"&&typeof document<"u",lr=typeof navigator=="object"&&navigator||void 0,yo=br&&(!lr||["ReactNative","NativeScript","NS"].indexOf(lr.product)<0),xo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",go=br&&window.location.href||"http://localhost",vo=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:br,hasStandardBrowserEnv:yo,hasStandardBrowserWebWorkerEnv:xo,navigator:lr,origin:go},Symbol.toStringTag,{value:"Module"})),Y={...vo,...ho};function bo(t,e){return Et(t,new Y.classes.URLSearchParams,{visitor:function(r,n,s,o){return Y.isNode&&y.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function wo(t){return y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jo(t){const e={},r=Object.keys(t);let n;const s=r.length;let o;for(n=0;n<s;n++)o=r[n],e[o]=t[o];return e}function Yn(t){function e(r,n,s,o){let i=r[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),u=o>=r.length;return i=!i&&y.isArray(s)?s.length:i,u?(y.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!l):((!s[i]||!y.isObject(s[i]))&&(s[i]=[]),e(r,n,s[i],o)&&y.isArray(s[i])&&(s[i]=jo(s[i])),!l)}if(y.isFormData(t)&&y.isFunction(t.entries)){const r={};return y.forEachEntry(t,(n,s)=>{e(wo(n),s,r,0)}),r}return null}function No(t,e,r){if(y.isString(t))try{return(e||JSON.parse)(t),y.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Xe={transitional:Xn,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,o=y.isObject(e);if(o&&y.isHTMLForm(e)&&(e=new FormData(e)),y.isFormData(e))return s?JSON.stringify(Yn(e)):e;if(y.isArrayBuffer(e)||y.isBuffer(e)||y.isStream(e)||y.isFile(e)||y.isBlob(e)||y.isReadableStream(e))return e;if(y.isArrayBufferView(e))return e.buffer;if(y.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return bo(e,this.formSerializer).toString();if((l=y.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Et(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),No(e)):e}],transformResponse:[function(e){const r=this.transitional||Xe.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(y.isResponse(e)||y.isReadableStream(e))return e;if(e&&y.isString(e)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?O.from(l,O.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Y.classes.FormData,Blob:Y.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],t=>{Xe.headers[t]={}});const So=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Eo=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||e[r]&&So[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Dr=Symbol("internals");function Me(t){return t&&String(t).trim().toLowerCase()}function ct(t){return t===!1||t==null?t:y.isArray(t)?t.map(ct):String(t)}function Oo(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Ro=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function It(t,e,r,n,s){if(y.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!y.isString(e)){if(y.isString(n))return e.indexOf(n)!==-1;if(y.isRegExp(n))return n.test(e)}}function Co(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Ao(t,e){const r=y.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,o,i){return this[n].call(this,e,s,o,i)},configurable:!0})})}let ee=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function o(l,u,c){const d=Me(u);if(!d)throw new Error("header name must be a non-empty string");const f=y.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||u]=ct(l))}const i=(l,u)=>y.forEach(l,(c,d)=>o(c,d,u));if(y.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(y.isString(e)&&(e=e.trim())&&!Ro(e))i(Eo(e),r);else if(y.isObject(e)&&y.isIterable(e)){let l={},u,c;for(const d of e){if(!y.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?y.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}i(l,r)}else e!=null&&o(r,e,n);return this}get(e,r){if(e=Me(e),e){const n=y.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return Oo(s);if(y.isFunction(r))return r.call(this,s,n);if(y.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Me(e),e){const n=y.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||It(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function o(i){if(i=Me(i),i){const l=y.findKey(n,i);l&&(!r||It(n,n[l],l,r))&&(delete n[l],s=!0)}}return y.isArray(e)?e.forEach(o):o(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const o=r[n];(!e||It(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const r=this,n={};return y.forEach(this,(s,o)=>{const i=y.findKey(n,o);if(i){r[i]=ct(s),delete r[o];return}const l=e?Co(o):String(o).trim();l!==o&&delete r[o],r[l]=ct(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return y.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&y.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[Dr]=this[Dr]={accessors:{}}).accessors,s=this.prototype;function o(i){const l=Me(i);n[l]||(Ao(s,i),n[l]=!0)}return y.isArray(e)?e.forEach(o):o(e),this}};ee.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(ee.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});y.freezeMethods(ee);function Ft(t,e){const r=this||Xe,n=e||r,s=ee.from(n.headers);let o=n.data;return y.forEach(t,function(l){o=l.call(r,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function Zn(t){return!!(t&&t.__CANCEL__)}let Ye=class extends O{constructor(e,r,n){super(e??"canceled",O.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function ea(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new O("Request failed with status code "+r.status,[O.ERR_BAD_REQUEST,O.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function _o(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function To(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,o=0,i;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),d=n[o];i||(i=c),r[s]=u,n[s]=c;let f=o,m=0;for(;f!==s;)m+=r[f++],f=f%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),c-i<e)return;const g=d&&c-d;return g?Math.round(m*1e3/g):void 0}}function Po(t,e){let r=0,n=1e3/e,s,o;const i=(c,d=Date.now())=>{r=d,s=null,o&&(clearTimeout(o),o=null),t(...c)};return[(...c)=>{const d=Date.now(),f=d-r;f>=n?i(c,d):(s=c,o||(o=setTimeout(()=>{o=null,i(s)},n-f)))},()=>s&&i(s)]}const ht=(t,e,r=3)=>{let n=0;const s=To(50,250);return Po(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,u=i-n,c=s(u),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-i)/c:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},Lr=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Mr=t=>(...e)=>y.asap(()=>t(...e)),Io=Y.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Y.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Y.origin),Y.navigator&&/(msie|trident)/i.test(Y.navigator.userAgent)):()=>!0,Fo=Y.hasStandardBrowserEnv?{write(t,e,r,n,s,o,i){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];y.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),y.isString(n)&&l.push(`path=${n}`),y.isString(s)&&l.push(`domain=${s}`),o===!0&&l.push("secure"),y.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function $o(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ko(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ta(t,e,r){let n=!$o(e);return t&&(n||r==!1)?ko(t,e):e}const Br=t=>t instanceof ee?{...t}:t;function Ne(t,e){e=e||{};const r={};function n(c,d,f,m){return y.isPlainObject(c)&&y.isPlainObject(d)?y.merge.call({caseless:m},c,d):y.isPlainObject(d)?y.merge({},d):y.isArray(d)?d.slice():d}function s(c,d,f,m){if(y.isUndefined(d)){if(!y.isUndefined(c))return n(void 0,c,f,m)}else return n(c,d,f,m)}function o(c,d){if(!y.isUndefined(d))return n(void 0,d)}function i(c,d){if(y.isUndefined(d)){if(!y.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function l(c,d,f){if(f in e)return n(c,d);if(f in t)return n(void 0,c)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,d,f)=>s(Br(c),Br(d),f,!0)};return y.forEach(Object.keys({...t,...e}),function(d){const f=u[d]||s,m=f(t[d],e[d],d);y.isUndefined(m)&&f!==l||(r[d]=m)}),r}const ra=t=>{const e=Ne({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:l}=e;if(e.headers=i=ee.from(i),e.url=Qn(ta(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),y.isFormData(r)){if(Y.hasStandardBrowserEnv||Y.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(y.isFunction(r.getHeaders)){const u=r.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,f])=>{c.includes(d.toLowerCase())&&i.set(d,f)})}}if(Y.hasStandardBrowserEnv&&(n&&y.isFunction(n)&&(n=n(e)),n||n!==!1&&Io(e.url))){const u=s&&o&&Fo.read(o);u&&i.set(s,u)}return e},Do=typeof XMLHttpRequest<"u",Lo=Do&&function(t){return new Promise(function(r,n){const s=ra(t);let o=s.data;const i=ee.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=s,d,f,m,g,p;function x(){g&&g(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let h=new XMLHttpRequest;h.open(s.method.toUpperCase(),s.url,!0),h.timeout=s.timeout;function w(){if(!h)return;const v=ee.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:v,config:t,request:h};ea(function(N){r(N),x()},function(N){n(N),x()},A),h=null}"onloadend"in h?h.onloadend=w:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(w)},h.onabort=function(){h&&(n(new O("Request aborted",O.ECONNABORTED,t,h)),h=null)},h.onerror=function(j){const A=j&&j.message?j.message:"Network Error",R=new O(A,O.ERR_NETWORK,t,h);R.event=j||null,n(R),h=null},h.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const A=s.transitional||Xn;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),n(new O(j,A.clarifyTimeoutError?O.ETIMEDOUT:O.ECONNABORTED,t,h)),h=null},o===void 0&&i.setContentType(null),"setRequestHeader"in h&&y.forEach(i.toJSON(),function(j,A){h.setRequestHeader(A,j)}),y.isUndefined(s.withCredentials)||(h.withCredentials=!!s.withCredentials),l&&l!=="json"&&(h.responseType=s.responseType),c&&([m,p]=ht(c,!0),h.addEventListener("progress",m)),u&&h.upload&&([f,g]=ht(u),h.upload.addEventListener("progress",f),h.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(d=v=>{h&&(n(!v||v.type?new Ye(null,t,h):v),h.abort(),h=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const S=_o(s.url);if(S&&Y.protocols.indexOf(S)===-1){n(new O("Unsupported protocol "+S+":",O.ERR_BAD_REQUEST,t));return}h.send(o||null)})},Mo=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const o=function(c){if(!s){s=!0,l();const d=c instanceof Error?c:this.reason;n.abort(d instanceof O?d:new Ye(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,o(new O(`timeout of ${e}ms exceeded`,O.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),t=null)};t.forEach(c=>c.addEventListener("abort",o));const{signal:u}=n;return u.unsubscribe=()=>y.asap(l),u}},Bo=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},qo=async function*(t,e){for await(const r of Uo(t))yield*Bo(r,e)},Uo=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},qr=(t,e,r,n)=>{const s=qo(t,e);let o=0,i,l=u=>{i||(i=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await s.next();if(c){l(),u.close();return}let f=d.byteLength;if(r){let m=o+=f;r(m)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},Ur=64*1024,{isFunction:nt}=y,Ho=(({Request:t,Response:e})=>({Request:t,Response:e}))(y.global),{ReadableStream:Hr,TextEncoder:zr}=y.global,Wr=(t,...e)=>{try{return!!t(...e)}catch{return!1}},zo=t=>{t=y.merge.call({skipUndefined:!0},Ho,t);const{fetch:e,Request:r,Response:n}=t,s=e?nt(e):typeof fetch=="function",o=nt(r),i=nt(n);if(!s)return!1;const l=s&&nt(Hr),u=s&&(typeof zr=="function"?(p=>x=>p.encode(x))(new zr):async p=>new Uint8Array(await new r(p).arrayBuffer())),c=o&&l&&Wr(()=>{let p=!1;const x=new r(Y.origin,{body:new Hr,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!x}),d=i&&l&&Wr(()=>y.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(x,h)=>{let w=x&&x[p];if(w)return w.call(x);throw new O(`Response type '${p}' is not supported`,O.ERR_NOT_SUPPORT,h)})});const m=async p=>{if(p==null)return 0;if(y.isBlob(p))return p.size;if(y.isSpecCompliantForm(p))return(await new r(Y.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(y.isArrayBufferView(p)||y.isArrayBuffer(p))return p.byteLength;if(y.isURLSearchParams(p)&&(p=p+""),y.isString(p))return(await u(p)).byteLength},g=async(p,x)=>{const h=y.toFiniteNumber(p.getContentLength());return h??m(x)};return async p=>{let{url:x,method:h,data:w,signal:S,cancelToken:v,timeout:j,onDownloadProgress:A,onUploadProgress:R,responseType:N,headers:E,withCredentials:F="same-origin",fetchOptions:H}=ra(p),k=e||fetch;N=N?(N+"").toLowerCase():"text";let C=Mo([S,v&&v.toAbortSignal()],j),I=null;const L=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let X;try{if(R&&c&&h!=="get"&&h!=="head"&&(X=await g(E,w))!==0){let te=new r(x,{method:"POST",body:w,duplex:"half"}),Oe;if(y.isFormData(w)&&(Oe=te.headers.get("content-type"))&&E.setContentType(Oe),te.body){const[Pt,rt]=Lr(X,ht(Mr(R)));w=qr(te.body,Ur,Pt,rt)}}y.isString(F)||(F=F?"include":"omit");const D=o&&"credentials"in r.prototype,W={...H,signal:C,method:h.toUpperCase(),headers:E.normalize().toJSON(),body:w,duplex:"half",credentials:D?F:void 0};I=o&&new r(x,W);let re=await(o?k(I,H):k(x,W));const Ee=d&&(N==="stream"||N==="response");if(d&&(A||Ee&&L)){const te={};["status","statusText","headers"].forEach(Ar=>{te[Ar]=re[Ar]});const Oe=y.toFiniteNumber(re.headers.get("content-length")),[Pt,rt]=A&&Lr(Oe,ht(Mr(A),!0))||[];re=new n(qr(re.body,Ur,Pt,()=>{rt&&rt(),L&&L()}),te)}N=N||"text";let xe=await f[y.findKey(f,N)||"text"](re,p);return!Ee&&L&&L(),await new Promise((te,Oe)=>{ea(te,Oe,{data:xe,headers:ee.from(re.headers),status:re.status,statusText:re.statusText,config:p,request:I})})}catch(D){throw L&&L(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new O("Network Error",O.ERR_NETWORK,p,I),{cause:D.cause||D}):O.from(D,D&&D.code,p,I)}}},Wo=new Map,na=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:s}=e,o=[n,s,r];let i=o.length,l=i,u,c,d=Wo;for(;l--;)u=o[l],c=d.get(u),c===void 0&&d.set(u,c=l?new Map:zo(e)),d=c;return c};na();const wr={http:io,xhr:Lo,fetch:{get:na}};y.forEach(wr,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Gr=t=>`- ${t}`,Go=t=>y.isFunction(t)||t===null||t===!1;function Vo(t,e){t=y.isArray(t)?t:[t];const{length:r}=t;let n,s;const o={};for(let i=0;i<r;i++){n=t[i];let l;if(s=n,!Go(n)&&(s=wr[(l=String(n)).toLowerCase()],s===void 0))throw new O(`Unknown adapter '${l}'`);if(s&&(y.isFunction(s)||(s=s.get(e))))break;o[l||"#"+i]=s}if(!s){const i=Object.entries(o).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(Gr).join(`
`):" "+Gr(i[0]):"as no adapter specified";throw new O("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const aa={getAdapter:Vo,adapters:wr};function $t(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ye(null,t)}function Vr(t){return $t(t),t.headers=ee.from(t.headers),t.data=Ft.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),aa.getAdapter(t.adapter||Xe.adapter,t)(t).then(function(n){return $t(t),n.data=Ft.call(t,t.transformResponse,n),n.headers=ee.from(n.headers),n},function(n){return Zn(n)||($t(t),n&&n.response&&(n.response.data=Ft.call(t,t.transformResponse,n.response),n.response.headers=ee.from(n.response.headers))),Promise.reject(n)})}const sa="1.13.4",Ot={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ot[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Jr={};Ot.transitional=function(e,r,n){function s(o,i){return"[Axios v"+sa+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,l)=>{if(e===!1)throw new O(s(i," has been removed"+(r?" in "+r:"")),O.ERR_DEPRECATED);return r&&!Jr[i]&&(Jr[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,i,l):!0}};Ot.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Jo(t,e,r){if(typeof t!="object")throw new O("options must be an object",O.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const o=n[s],i=e[o];if(i){const l=t[o],u=l===void 0||i(l,o,t);if(u!==!0)throw new O("option "+o+" must be "+u,O.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new O("Unknown option "+o,O.ERR_BAD_OPTION)}}const dt={assertOptions:Jo,validators:Ot},oe=dt.validators;let we=class{constructor(e){this.defaults=e||{},this.interceptors={request:new kr,response:new kr}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ne(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:o}=r;n!==void 0&&dt.assertOptions(n,{silentJSONParsing:oe.transitional(oe.boolean),forcedJSONParsing:oe.transitional(oe.boolean),clarifyTimeoutError:oe.transitional(oe.boolean)},!1),s!=null&&(y.isFunction(s)?r.paramsSerializer={serialize:s}:dt.assertOptions(s,{encode:oe.function,serialize:oe.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),dt.assertOptions(r,{baseUrl:oe.spelling("baseURL"),withXsrfToken:oe.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&y.merge(o.common,o[r.method]);o&&y.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),r.headers=ee.concat(i,o);const l=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(u=u&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let d,f=0,m;if(!u){const p=[Vr.bind(this),void 0];for(p.unshift(...l),p.push(...c),m=p.length,d=Promise.resolve(r);f<m;)d=d.then(p[f++],p[f++]);return d}m=l.length;let g=r;for(;f<m;){const p=l[f++],x=l[f++];try{g=p(g)}catch(h){x.call(this,h);break}}try{d=Vr.call(this,g)}catch(p){return Promise.reject(p)}for(f=0,m=c.length;f<m;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=Ne(this.defaults,e);const r=ta(e.baseURL,e.url,e.allowAbsoluteUrls);return Qn(r,e.params,e.paramsSerializer)}};y.forEach(["delete","get","head","options"],function(e){we.prototype[e]=function(r,n){return this.request(Ne(n||{},{method:e,url:r,data:(n||{}).data}))}});y.forEach(["post","put","patch"],function(e){function r(n){return function(o,i,l){return this.request(Ne(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}we.prototype[e]=r(),we.prototype[e+"Form"]=r(!0)});let Ko=class oa{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(l=>{n.subscribe(l),o=l}).then(s);return i.cancel=function(){n.unsubscribe(o)},i},e(function(o,i,l){n.reason||(n.reason=new Ye(o,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new oa(function(s){e=s}),cancel:e}}};function Qo(t){return function(r){return t.apply(null,r)}}function Xo(t){return y.isObject(t)&&t.isAxiosError===!0}const cr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(cr).forEach(([t,e])=>{cr[e]=t});function ia(t){const e=new we(t),r=Mn(we.prototype.request,e);return y.extend(r,we.prototype,e,{allOwnKeys:!0}),y.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return ia(Ne(t,s))},r}const U=ia(Xe);U.Axios=we;U.CanceledError=Ye;U.CancelToken=Ko;U.isCancel=Zn;U.VERSION=sa;U.toFormData=Et;U.AxiosError=O;U.Cancel=U.CanceledError;U.all=function(e){return Promise.all(e)};U.spread=Qo;U.isAxiosError=Xo;U.mergeConfig=Ne;U.AxiosHeaders=ee;U.formToJSON=t=>Yn(y.isHTMLForm(t)?new FormData(t):t);U.getAdapter=aa.getAdapter;U.HttpStatusCode=cr;U.default=U;const{Axios:Gd,AxiosError:Vd,CanceledError:Jd,isCancel:Kd,CancelToken:Qd,VERSION:Xd,all:Yd,Cancel:Zd,isAxiosError:eu,spread:tu,toFormData:ru,AxiosHeaders:nu,HttpStatusCode:au,formToJSON:su,getAdapter:ou,mergeConfig:iu}=U;var De=TypeError;const Yo={},Zo=Object.freeze(Object.defineProperty({__proto__:null,default:Yo},Symbol.toStringTag,{value:"Module"})),ei=Ka(Zo);var jr=typeof Map=="function"&&Map.prototype,kt=Object.getOwnPropertyDescriptor&&jr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,yt=jr&&kt&&typeof kt.get=="function"?kt.get:null,Kr=jr&&Map.prototype.forEach,Nr=typeof Set=="function"&&Set.prototype,Dt=Object.getOwnPropertyDescriptor&&Nr?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,xt=Nr&&Dt&&typeof Dt.get=="function"?Dt.get:null,Qr=Nr&&Set.prototype.forEach,ti=typeof WeakMap=="function"&&WeakMap.prototype,Ue=ti?WeakMap.prototype.has:null,ri=typeof WeakSet=="function"&&WeakSet.prototype,He=ri?WeakSet.prototype.has:null,ni=typeof WeakRef=="function"&&WeakRef.prototype,Xr=ni?WeakRef.prototype.deref:null,ai=Boolean.prototype.valueOf,si=Object.prototype.toString,oi=Function.prototype.toString,ii=String.prototype.match,Sr=String.prototype.slice,fe=String.prototype.replace,li=String.prototype.toUpperCase,Yr=String.prototype.toLowerCase,la=RegExp.prototype.test,Zr=Array.prototype.concat,ce=Array.prototype.join,ci=Array.prototype.slice,en=Math.floor,dr=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Lt=Object.getOwnPropertySymbols,ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ze=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Fe||!0)?Symbol.toStringTag:null,ca=Object.prototype.propertyIsEnumerable,tn=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function rn(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||la.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-en(-t):en(t);if(n!==t){var s=String(n),o=Sr.call(e,s.length+1);return fe.call(s,r,"$&_")+"."+fe.call(fe.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return fe.call(e,r,"$&_")}var fr=ei,nn=fr.custom,an=fa(nn)?nn:null,da={__proto__:null,double:'"',single:"'"},di={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Rt=function t(e,r,n,s){var o=r||{};if(de(o,"quoteStyle")&&!de(da,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(de(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var i=de(o,"customInspect")?o.customInspect:!0;if(typeof i!="boolean"&&i!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(de(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(de(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return ma(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return l?rn(e,u):u}if(typeof e=="bigint"){var c=String(e)+"n";return l?rn(e,c):c}var d=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return pr(e)?"[Array]":"[Object]";var f=Ci(o,n);if(typeof s>"u")s=[];else if(pa(s,e)>=0)return"[Circular]";function m(I,L,X){if(L&&(s=ci.call(s),s.push(L)),X){var D={depth:o.depth};return de(o,"quoteStyle")&&(D.quoteStyle=o.quoteStyle),t(I,D,n+1,s)}return t(I,o,n+1,s)}if(typeof e=="function"&&!sn(e)){var g=vi(e),p=at(e,m);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(p.length>0?" { "+ce.call(p,", ")+" }":"")}if(fa(e)){var x=Fe?fe.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ur.call(e);return typeof e=="object"&&!Fe?Be(x):x}if(Ei(e)){for(var h="<"+Yr.call(String(e.nodeName)),w=e.attributes||[],S=0;S<w.length;S++)h+=" "+w[S].name+"="+ua(ui(w[S].value),"double",o);return h+=">",e.childNodes&&e.childNodes.length&&(h+="..."),h+="</"+Yr.call(String(e.nodeName))+">",h}if(pr(e)){if(e.length===0)return"[]";var v=at(e,m);return f&&!Ri(v)?"["+mr(v,f)+"]":"[ "+ce.call(v,", ")+" ]"}if(pi(e)){var j=at(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!ca.call(e,"cause")?"{ ["+String(e)+"] "+ce.call(Zr.call("[cause]: "+m(e.cause),j),", ")+" }":j.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ce.call(j,", ")+" }"}if(typeof e=="object"&&i){if(an&&typeof e[an]=="function"&&fr)return fr(e,{depth:d-n});if(i!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(bi(e)){var A=[];return Kr&&Kr.call(e,function(I,L){A.push(m(L,e,!0)+" => "+m(I,e))}),on("Map",yt.call(e),A,f)}if(Ni(e)){var R=[];return Qr&&Qr.call(e,function(I){R.push(m(I,e))}),on("Set",xt.call(e),R,f)}if(wi(e))return Mt("WeakMap");if(Si(e))return Mt("WeakSet");if(ji(e))return Mt("WeakRef");if(hi(e))return Be(m(Number(e)));if(xi(e))return Be(m(dr.call(e)));if(yi(e))return Be(ai.call(e));if(mi(e))return Be(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof _r<"u"&&e===_r)return"{ [object globalThis] }";if(!fi(e)&&!sn(e)){var N=at(e,m),E=tn?tn(e)===Object.prototype:e instanceof Object||e.constructor===Object,F=e instanceof Object?"":"null prototype",H=!E&&ze&&Object(e)===e&&ze in e?Sr.call(ye(e),8,-1):F?"Object":"",k=E||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",C=k+(H||F?"["+ce.call(Zr.call([],H||[],F||[]),": ")+"] ":"");return N.length===0?C+"{}":f?C+"{"+mr(N,f)+"}":C+"{ "+ce.call(N,", ")+" }"}return String(e)};function ua(t,e,r){var n=r.quoteStyle||e,s=da[n];return s+t+s}function ui(t){return fe.call(String(t),/"/g,"&quot;")}function Se(t){return!ze||!(typeof t=="object"&&(ze in t||typeof t[ze]<"u"))}function pr(t){return ye(t)==="[object Array]"&&Se(t)}function fi(t){return ye(t)==="[object Date]"&&Se(t)}function sn(t){return ye(t)==="[object RegExp]"&&Se(t)}function pi(t){return ye(t)==="[object Error]"&&Se(t)}function mi(t){return ye(t)==="[object String]"&&Se(t)}function hi(t){return ye(t)==="[object Number]"&&Se(t)}function yi(t){return ye(t)==="[object Boolean]"&&Se(t)}function fa(t){if(Fe)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ur)return!1;try{return ur.call(t),!0}catch{}return!1}function xi(t){if(!t||typeof t!="object"||!dr)return!1;try{return dr.call(t),!0}catch{}return!1}var gi=Object.prototype.hasOwnProperty||function(t){return t in this};function de(t,e){return gi.call(t,e)}function ye(t){return si.call(t)}function vi(t){if(t.name)return t.name;var e=ii.call(oi.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function pa(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function bi(t){if(!yt||!t||typeof t!="object")return!1;try{yt.call(t);try{xt.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function wi(t){if(!Ue||!t||typeof t!="object")return!1;try{Ue.call(t,Ue);try{He.call(t,He)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function ji(t){if(!Xr||!t||typeof t!="object")return!1;try{return Xr.call(t),!0}catch{}return!1}function Ni(t){if(!xt||!t||typeof t!="object")return!1;try{xt.call(t);try{yt.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Si(t){if(!He||!t||typeof t!="object")return!1;try{He.call(t,He);try{Ue.call(t,Ue)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Ei(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function ma(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return ma(Sr.call(t,0,e.maxStringLength),e)+n}var s=di[e.quoteStyle||"single"];s.lastIndex=0;var o=fe.call(fe.call(t,s,"\\$1"),/[\x00-\x1f]/g,Oi);return ua(o,"single",e)}function Oi(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+li.call(e.toString(16))}function Be(t){return"Object("+t+")"}function Mt(t){return t+" { ? }"}function on(t,e,r,n){var s=n?mr(r,n):ce.call(r,", ");return t+" ("+e+") {"+s+"}"}function Ri(t){for(var e=0;e<t.length;e++)if(pa(t[e],`
`)>=0)return!1;return!0}function Ci(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ce.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ce.call(Array(e+1),r)}}function mr(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ce.call(t,","+r)+`
`+e.prev}function at(t,e){var r=pr(t),n=[];if(r){n.length=t.length;for(var s=0;s<t.length;s++)n[s]=de(t,s)?e(t[s],t):""}var o=typeof Lt=="function"?Lt(t):[],i;if(Fe){i={};for(var l=0;l<o.length;l++)i["$"+o[l]]=o[l]}for(var u in t)de(t,u)&&(r&&String(Number(u))===u&&u<t.length||Fe&&i["$"+u]instanceof Symbol||(la.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof Lt=="function")for(var c=0;c<o.length;c++)ca.call(t,o[c])&&n.push("["+e(o[c])+"]: "+e(t[o[c]],t));return n}var Ai=Rt,_i=De,Ct=function(t,e,r){for(var n=t,s;(s=n.next)!=null;n=s)if(s.key===e)return n.next=s.next,r||(s.next=t.next,t.next=s),s},Ti=function(t,e){if(t){var r=Ct(t,e);return r&&r.value}},Pi=function(t,e,r){var n=Ct(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Ii=function(t,e){return t?!!Ct(t,e):!1},Fi=function(t,e){if(t)return Ct(t,e,!0)},$i=function(){var e,r={assert:function(n){if(!r.has(n))throw new _i("Side channel does not contain "+Ai(n))},delete:function(n){var s=e&&e.next,o=Fi(e,n);return o&&s&&s===o&&(e=void 0),!!o},get:function(n){return Ti(e,n)},has:function(n){return Ii(e,n)},set:function(n,s){e||(e={next:void 0}),Pi(e,n,s)}};return r},ha=Object,ki=Error,Di=EvalError,Li=RangeError,Mi=ReferenceError,Bi=SyntaxError,qi=URIError,Ui=Math.abs,Hi=Math.floor,zi=Math.max,Wi=Math.min,Gi=Math.pow,Vi=Math.round,Ji=Number.isNaN||function(e){return e!==e},Ki=Ji,Qi=function(e){return Ki(e)||e===0?e:e<0?-1:1},Xi=Object.getOwnPropertyDescriptor,ut=Xi;if(ut)try{ut([],"length")}catch{ut=null}var ya=ut,ft=Object.defineProperty||!1;if(ft)try{ft({},"a",{value:1})}catch{ft=!1}var Yi=ft,Bt,ln;function Zi(){return ln||(ln=1,Bt=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==s||l.enumerable!==!0)return!1}return!0}),Bt}var qt,cn;function el(){if(cn)return qt;cn=1;var t=typeof Symbol<"u"&&Symbol,e=Zi();return qt=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},qt}var Ut,dn;function xa(){return dn||(dn=1,Ut=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Ut}var Ht,un;function ga(){if(un)return Ht;un=1;var t=ha;return Ht=t.getPrototypeOf||null,Ht}var zt,fn;function tl(){if(fn)return zt;fn=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",s=function(u,c){for(var d=[],f=0;f<u.length;f+=1)d[f]=u[f];for(var m=0;m<c.length;m+=1)d[m+u.length]=c[m];return d},o=function(u,c){for(var d=[],f=c,m=0;f<u.length;f+=1,m+=1)d[m]=u[f];return d},i=function(l,u){for(var c="",d=0;d<l.length;d+=1)c+=l[d],d+1<l.length&&(c+=u);return c};return zt=function(u){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(t+c);for(var d=o(arguments,1),f,m=function(){if(this instanceof f){var w=c.apply(this,s(d,arguments));return Object(w)===w?w:this}return c.apply(u,s(d,arguments))},g=r(0,c.length-d.length),p=[],x=0;x<g;x++)p[x]="$"+x;if(f=Function("binder","return function ("+i(p,",")+"){ return binder.apply(this,arguments); }")(m),c.prototype){var h=function(){};h.prototype=c.prototype,f.prototype=new h,h.prototype=null}return f},zt}var Wt,pn;function At(){if(pn)return Wt;pn=1;var t=tl();return Wt=Function.prototype.bind||t,Wt}var Gt,mn;function Er(){return mn||(mn=1,Gt=Function.prototype.call),Gt}var Vt,hn;function va(){return hn||(hn=1,Vt=Function.prototype.apply),Vt}var rl=typeof Reflect<"u"&&Reflect&&Reflect.apply,nl=At(),al=va(),sl=Er(),ol=rl,il=ol||nl.call(sl,al),ll=At(),cl=De,dl=Er(),ul=il,ba=function(e){if(e.length<1||typeof e[0]!="function")throw new cl("a function is required");return ul(ll,dl,e)},Jt,yn;function fl(){if(yn)return Jt;yn=1;var t=ba,e=ya,r;try{r=[].__proto__===Array.prototype}catch(i){if(!i||typeof i!="object"||!("code"in i)||i.code!=="ERR_PROTO_ACCESS")throw i}var n=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,o=s.getPrototypeOf;return Jt=n&&typeof n.get=="function"?t([n.get]):typeof o=="function"?function(l){return o(l==null?l:s(l))}:!1,Jt}var Kt,xn;function pl(){if(xn)return Kt;xn=1;var t=xa(),e=ga(),r=fl();return Kt=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:r?function(s){return r(s)}:null,Kt}var Qt,gn;function ml(){if(gn)return Qt;gn=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=At();return Qt=r.call(t,e),Qt}var _,hl=ha,yl=ki,xl=Di,gl=Li,vl=Mi,$e=Bi,_e=De,bl=qi,wl=Ui,jl=Hi,Nl=zi,Sl=Wi,El=Gi,Ol=Vi,Rl=Qi,wa=Function,Xt=function(t){try{return wa('"use strict"; return ('+t+").constructor;")()}catch{}},Ge=ya,Cl=Yi,Yt=function(){throw new _e},Al=Ge?function(){try{return arguments.callee,Yt}catch{try{return Ge(arguments,"callee").get}catch{return Yt}}}():Yt,Re=el()(),V=pl(),_l=ga(),Tl=xa(),ja=va(),Ze=Er(),Ae={},Pl=typeof Uint8Array>"u"||!V?_:V(Uint8Array),je={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_:ArrayBuffer,"%ArrayIteratorPrototype%":Re&&V?V([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":Ae,"%AsyncGenerator%":Ae,"%AsyncGeneratorFunction%":Ae,"%AsyncIteratorPrototype%":Ae,"%Atomics%":typeof Atomics>"u"?_:Atomics,"%BigInt%":typeof BigInt>"u"?_:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":yl,"%eval%":eval,"%EvalError%":xl,"%Float16Array%":typeof Float16Array>"u"?_:Float16Array,"%Float32Array%":typeof Float32Array>"u"?_:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_:FinalizationRegistry,"%Function%":wa,"%GeneratorFunction%":Ae,"%Int8Array%":typeof Int8Array>"u"?_:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Re&&V?V(V([][Symbol.iterator]())):_,"%JSON%":typeof JSON=="object"?JSON:_,"%Map%":typeof Map>"u"?_:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Re||!V?_:V(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":hl,"%Object.getOwnPropertyDescriptor%":Ge,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_:Promise,"%Proxy%":typeof Proxy>"u"?_:Proxy,"%RangeError%":gl,"%ReferenceError%":vl,"%Reflect%":typeof Reflect>"u"?_:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Re||!V?_:V(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Re&&V?V(""[Symbol.iterator]()):_,"%Symbol%":Re?Symbol:_,"%SyntaxError%":$e,"%ThrowTypeError%":Al,"%TypedArray%":Pl,"%TypeError%":_e,"%Uint8Array%":typeof Uint8Array>"u"?_:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_:Uint32Array,"%URIError%":bl,"%WeakMap%":typeof WeakMap>"u"?_:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_:WeakSet,"%Function.prototype.call%":Ze,"%Function.prototype.apply%":ja,"%Object.defineProperty%":Cl,"%Object.getPrototypeOf%":_l,"%Math.abs%":wl,"%Math.floor%":jl,"%Math.max%":Nl,"%Math.min%":Sl,"%Math.pow%":El,"%Math.round%":Ol,"%Math.sign%":Rl,"%Reflect.getPrototypeOf%":Tl};if(V)try{null.error}catch(t){var Il=V(V(t));je["%Error.prototype%"]=Il}var Fl=function t(e){var r;if(e==="%AsyncFunction%")r=Xt("async function () {}");else if(e==="%GeneratorFunction%")r=Xt("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Xt("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&V&&(r=V(s.prototype))}return je[e]=r,r},vn={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},et=At(),gt=ml(),$l=et.call(Ze,Array.prototype.concat),kl=et.call(ja,Array.prototype.splice),bn=et.call(Ze,String.prototype.replace),vt=et.call(Ze,String.prototype.slice),Dl=et.call(Ze,RegExp.prototype.exec),Ll=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ml=/\\(\\)?/g,Bl=function(e){var r=vt(e,0,1),n=vt(e,-1);if(r==="%"&&n!=="%")throw new $e("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new $e("invalid intrinsic syntax, expected opening `%`");var s=[];return bn(e,Ll,function(o,i,l,u){s[s.length]=l?bn(u,Ml,"$1"):i||o}),s},ql=function(e,r){var n=e,s;if(gt(vn,n)&&(s=vn[n],n="%"+s[0]+"%"),gt(je,n)){var o=je[n];if(o===Ae&&(o=Fl(n)),typeof o>"u"&&!r)throw new _e("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:o}}throw new $e("intrinsic "+e+" does not exist!")},Or=function(e,r){if(typeof e!="string"||e.length===0)throw new _e("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new _e('"allowMissing" argument must be a boolean');if(Dl(/^%?[^%]*%?$/,e)===null)throw new $e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Bl(e),s=n.length>0?n[0]:"",o=ql("%"+s+"%",r),i=o.name,l=o.value,u=!1,c=o.alias;c&&(s=c[0],kl(n,$l([0,1],c)));for(var d=1,f=!0;d<n.length;d+=1){var m=n[d],g=vt(m,0,1),p=vt(m,-1);if((g==='"'||g==="'"||g==="`"||p==='"'||p==="'"||p==="`")&&g!==p)throw new $e("property names with quotes must have matching quotes");if((m==="constructor"||!f)&&(u=!0),s+="."+m,i="%"+s+"%",gt(je,i))l=je[i];else if(l!=null){if(!(m in l)){if(!r)throw new _e("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ge&&d+1>=n.length){var x=Ge(l,m);f=!!x,f&&"get"in x&&!("originalValue"in x.get)?l=x.get:l=l[m]}else f=gt(l,m),l=l[m];f&&!u&&(je[i]=l)}}return l},Na=Or,Sa=ba,Ul=Sa([Na("%String.prototype.indexOf%")]),Ea=function(e,r){var n=Na(e,!!r);return typeof n=="function"&&Ul(e,".prototype.")>-1?Sa([n]):n},Hl=Or,tt=Ea,zl=Rt,Wl=De,wn=Hl("%Map%",!0),Gl=tt("Map.prototype.get",!0),Vl=tt("Map.prototype.set",!0),Jl=tt("Map.prototype.has",!0),Kl=tt("Map.prototype.delete",!0),Ql=tt("Map.prototype.size",!0),Oa=!!wn&&function(){var e,r={assert:function(n){if(!r.has(n))throw new Wl("Side channel does not contain "+zl(n))},delete:function(n){if(e){var s=Kl(e,n);return Ql(e)===0&&(e=void 0),s}return!1},get:function(n){if(e)return Gl(e,n)},has:function(n){return e?Jl(e,n):!1},set:function(n,s){e||(e=new wn),Vl(e,n,s)}};return r},Xl=Or,_t=Ea,Yl=Rt,st=Oa,Zl=De,Ce=Xl("%WeakMap%",!0),ec=_t("WeakMap.prototype.get",!0),tc=_t("WeakMap.prototype.set",!0),rc=_t("WeakMap.prototype.has",!0),nc=_t("WeakMap.prototype.delete",!0),ac=Ce?function(){var e,r,n={assert:function(s){if(!n.has(s))throw new Zl("Side channel does not contain "+Yl(s))},delete:function(s){if(Ce&&s&&(typeof s=="object"||typeof s=="function")){if(e)return nc(e,s)}else if(st&&r)return r.delete(s);return!1},get:function(s){return Ce&&s&&(typeof s=="object"||typeof s=="function")&&e?ec(e,s):r&&r.get(s)},has:function(s){return Ce&&s&&(typeof s=="object"||typeof s=="function")&&e?rc(e,s):!!r&&r.has(s)},set:function(s,o){Ce&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Ce),tc(e,s,o)):st&&(r||(r=st()),r.set(s,o))}};return n}:st,sc=De,oc=Rt,ic=$i,lc=Oa,cc=ac,dc=cc||lc||ic,Ra=function(){var e,r={assert:function(n){if(!r.has(n))throw new sc("Side channel does not contain "+oc(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,s){e||(e=dc()),e.set(n,s)}};return r},uc=String.prototype.replace,fc=/%20/g,Zt={RFC1738:"RFC1738",RFC3986:"RFC3986"},Rr={default:Zt.RFC3986,formatters:{RFC1738:function(t){return uc.call(t,fc,"+")},RFC3986:function(t){return String(t)}},RFC1738:Zt.RFC1738,RFC3986:Zt.RFC3986},pc=Rr,mc=Ra,er=Object.prototype.hasOwnProperty,ve=Array.isArray,Tt=mc(),Ca=function(e,r){return Tt.set(e,r),e},bt=function(e){return Tt.has(e)},hr=function(e){return Tt.get(e)},Aa=function(e,r){Tt.set(e,r)},ie=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),hc=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(ve(n)){for(var s=[],o=0;o<n.length;++o)typeof n[o]<"u"&&s.push(n[o]);r.obj[r.prop]=s}}},Cr=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},s=0;s<e.length;++s)typeof e[s]<"u"&&(n[s]=e[s]);return n},yc=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(ve(e))e.push(r);else if(e&&typeof e=="object")if(bt(e)){var s=hr(e)+1;e[s]=r,Aa(e,s)}else(n&&(n.plainObjects||n.allowPrototypes)||!er.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object"){if(bt(r)){for(var o=Object.keys(r),i=n&&n.plainObjects?{__proto__:null,0:e}:{0:e},l=0;l<o.length;l++){var u=parseInt(o[l],10);i[u+1]=r[o[l]]}return Ca(i,hr(r)+1)}return[e].concat(r)}var c=e;return ve(e)&&!ve(r)&&(c=Cr(e,n)),ve(e)&&ve(r)?(r.forEach(function(d,f){if(er.call(e,f)){var m=e[f];m&&typeof m=="object"&&d&&typeof d=="object"?e[f]=t(m,d,n):e.push(d)}else e[f]=d}),e):Object.keys(r).reduce(function(d,f){var m=r[f];return er.call(d,f)?d[f]=t(d[f],m,n):d[f]=m,d},c)},xc=function(e,r){return Object.keys(r).reduce(function(n,s){return n[s]=r[s],n},e)},gc=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},tr=1024,vc=function(e,r,n,s,o){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var l="",u=0;u<i.length;u+=tr){for(var c=i.length>=tr?i.slice(u,u+tr):i,d=[],f=0;f<c.length;++f){var m=c.charCodeAt(f);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||o===pc.RFC1738&&(m===40||m===41)){d[d.length]=c.charAt(f);continue}if(m<128){d[d.length]=ie[m];continue}if(m<2048){d[d.length]=ie[192|m>>6]+ie[128|m&63];continue}if(m<55296||m>=57344){d[d.length]=ie[224|m>>12]+ie[128|m>>6&63]+ie[128|m&63];continue}f+=1,m=65536+((m&1023)<<10|c.charCodeAt(f)&1023),d[d.length]=ie[240|m>>18]+ie[128|m>>12&63]+ie[128|m>>6&63]+ie[128|m&63]}l+=d.join("")}return l},bc=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],s=0;s<r.length;++s)for(var o=r[s],i=o.obj[o.prop],l=Object.keys(i),u=0;u<l.length;++u){var c=l[u],d=i[c];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:i,prop:c}),n.push(d))}return hc(r),e},wc=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},jc=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Nc=function(e,r,n,s){if(bt(e)){var o=hr(e)+1;return e[o]=r,Aa(e,o),e}var i=[].concat(e,r);return i.length>n?Ca(Cr(i,{plainObjects:s}),i.length-1):i},Sc=function(e,r){if(ve(e)){for(var n=[],s=0;s<e.length;s+=1)n.push(r(e[s]));return n}return r(e)},_a={arrayToObject:Cr,assign:xc,combine:Nc,compact:bc,decode:gc,encode:vc,isBuffer:jc,isOverflow:bt,isRegExp:wc,maybeMap:Sc,merge:yc},Ta=Ra,pt=_a,We=Rr,Ec=Object.prototype.hasOwnProperty,Pa={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},le=Array.isArray,Oc=Array.prototype.push,Ia=function(t,e){Oc.apply(t,le(e)?e:[e])},Rc=Date.prototype.toISOString,jn=We.default,G={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:pt.encode,encodeValuesOnly:!1,filter:void 0,format:jn,formatter:We.formatters[jn],indices:!1,serializeDate:function(e){return Rc.call(e)},skipNulls:!1,strictNullHandling:!1},Cc=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},rr={},Ac=function t(e,r,n,s,o,i,l,u,c,d,f,m,g,p,x,h,w,S){for(var v=e,j=S,A=0,R=!1;(j=j.get(rr))!==void 0&&!R;){var N=j.get(e);if(A+=1,typeof N<"u"){if(N===A)throw new RangeError("Cyclic object value");R=!0}typeof j.get(rr)>"u"&&(A=0)}if(typeof d=="function"?v=d(r,v):v instanceof Date?v=g(v):n==="comma"&&le(v)&&(v=pt.maybeMap(v,function(xe){return xe instanceof Date?g(xe):xe})),v===null){if(i)return c&&!h?c(r,G.encoder,w,"key",p):r;v=""}if(Cc(v)||pt.isBuffer(v)){if(c){var E=h?r:c(r,G.encoder,w,"key",p);return[x(E)+"="+x(c(v,G.encoder,w,"value",p))]}return[x(r)+"="+x(String(v))]}var F=[];if(typeof v>"u")return F;var H;if(n==="comma"&&le(v))h&&c&&(v=pt.maybeMap(v,c)),H=[{value:v.length>0?v.join(",")||null:void 0}];else if(le(d))H=d;else{var k=Object.keys(v);H=f?k.sort(f):k}var C=u?String(r).replace(/\./g,"%2E"):String(r),I=s&&le(v)&&v.length===1?C+"[]":C;if(o&&le(v)&&v.length===0)return I+"[]";for(var L=0;L<H.length;++L){var X=H[L],D=typeof X=="object"&&X&&typeof X.value<"u"?X.value:v[X];if(!(l&&D===null)){var W=m&&u?String(X).replace(/\./g,"%2E"):String(X),re=le(v)?typeof n=="function"?n(I,W):I:I+(m?"."+W:"["+W+"]");S.set(e,A);var Ee=Ta();Ee.set(rr,S),Ia(F,t(D,re,n,s,o,i,l,u,n==="comma"&&h&&le(v)?null:c,d,f,m,g,p,x,h,w,Ee))}}return F},_c=function(e){if(!e)return G;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||G.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=We.default;if(typeof e.format<"u"){if(!Ec.call(We.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var s=We.formatters[n],o=G.filter;(typeof e.filter=="function"||le(e.filter))&&(o=e.filter);var i;if(e.arrayFormat in Pa?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=G.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:G.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:G.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:G.allowEmptyArrays,arrayFormat:i,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:G.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?G.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:G.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:G.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:G.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:G.encodeValuesOnly,filter:o,format:n,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:G.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:G.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:G.strictNullHandling}},Tc=function(t,e){var r=t,n=_c(e),s,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):le(n.filter)&&(o=n.filter,s=o);var i=[];if(typeof r!="object"||r===null)return"";var l=Pa[n.arrayFormat],u=l==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);for(var c=Ta(),d=0;d<s.length;++d){var f=s[d],m=r[f];n.skipNulls&&m===null||Ia(i,Ac(m,f,l,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var g=i.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),g.length>0?p+g:""},me=_a,mt=Object.prototype.hasOwnProperty,Nn=Array.isArray,M={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:me.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Pc=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Fa=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},Ic="utf8=%26%2310003%3B",Fc="utf8=%E2%9C%93",$c=function(e,r){var n={__proto__:null},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=r.parameterLimit===1/0?void 0:r.parameterLimit,i=s.split(r.delimiter,r.throwOnLimitExceeded?o+1:o);if(r.throwOnLimitExceeded&&i.length>o)throw new RangeError("Parameter limit exceeded. Only "+o+" parameter"+(o===1?"":"s")+" allowed.");var l=-1,u,c=r.charset;if(r.charsetSentinel)for(u=0;u<i.length;++u)i[u].indexOf("utf8=")===0&&(i[u]===Fc?c="utf-8":i[u]===Ic&&(c="iso-8859-1"),l=u,u=i.length);for(u=0;u<i.length;++u)if(u!==l){var d=i[u],f=d.indexOf("]="),m=f===-1?d.indexOf("="):f+1,g,p;if(m===-1?(g=r.decoder(d,M.decoder,c,"key"),p=r.strictNullHandling?null:""):(g=r.decoder(d.slice(0,m),M.decoder,c,"key"),g!==null&&(p=me.maybeMap(Fa(d.slice(m+1),r,Nn(n[g])?n[g].length:0),function(h){return r.decoder(h,M.decoder,c,"value")}))),p&&r.interpretNumericEntities&&c==="iso-8859-1"&&(p=Pc(String(p))),d.indexOf("[]=")>-1&&(p=Nn(p)?[p]:p),g!==null){var x=mt.call(n,g);x&&r.duplicates==="combine"?n[g]=me.combine(n[g],p,r.arrayLimit,r.plainObjects):(!x||r.duplicates==="last")&&(n[g]=p)}}return n},kc=function(t,e,r,n){var s=0;if(t.length>0&&t[t.length-1]==="[]"){var o=t.slice(0,-1).join("");s=Array.isArray(e)&&e[o]?e[o].length:0}for(var i=n?e:Fa(e,r,s),l=t.length-1;l>=0;--l){var u,c=t[l];if(c==="[]"&&r.parseArrays)me.isOverflow(i)?u=i:u=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:me.combine([],i,r.arrayLimit,r.plainObjects);else{u=r.plainObjects?{__proto__:null}:{};var d=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,f=r.decodeDotInKeys?d.replace(/%2E/g,"."):d,m=parseInt(f,10);!r.parseArrays&&f===""?u={0:i}:!isNaN(m)&&c!==f&&String(m)===f&&m>=0&&r.parseArrays&&m<=r.arrayLimit?(u=[],u[m]=i):f!=="__proto__"&&(u[f]=i)}i=u}return i},Dc=function(e,r){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;if(r.depth<=0)return!r.plainObjects&&mt.call(Object.prototype,n)&&!r.allowPrototypes?void 0:[n];var s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,i=s.exec(n),l=i?n.slice(0,i.index):n,u=[];if(l){if(!r.plainObjects&&mt.call(Object.prototype,l)&&!r.allowPrototypes)return;u.push(l)}for(var c=0;(i=o.exec(n))!==null&&c<r.depth;){c+=1;var d=i[1].slice(1,-1);if(!r.plainObjects&&mt.call(Object.prototype,d)&&!r.allowPrototypes)return;u.push(i[1])}if(i){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");u.push("["+n.slice(i.index)+"]")}return u},Lc=function(e,r,n,s){if(e){var o=Dc(e,n);if(o)return kc(o,r,n,s)}},Mc=function(e){if(!e)return M;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?M.charset:e.charset,n=typeof e.duplicates>"u"?M.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:M.allowDots:!!e.allowDots;return{allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:M.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:M.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:M.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:M.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:M.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:M.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:M.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:M.decoder,delimiter:typeof e.delimiter=="string"||me.isRegExp(e.delimiter)?e.delimiter:M.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:M.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:M.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:M.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:M.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:M.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:M.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},Bc=function(t,e){var r=Mc(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?$c(t,r):t,s=r.plainObjects?{__proto__:null}:{},o=Object.keys(n),i=0;i<o.length;++i){var l=o[i],u=Lc(l,n[l],r,typeof t=="string");s=me.merge(s,u,r)}return r.allowSparse===!0?s:me.compact(s)},qc=Tc,Uc=Bc,Hc=Rr,zc={formats:Hc,parse:Uc,stringify:qc};const Wc=Qa(zc),Gc=t=>{var r,n,s,o,i,l,u,c,d,f;let e=(r=t.response)==null?void 0:r.status;if(e&&e>=400&&e!==401)try{typeof window<"u"&&window.top&&((f=window.top)==null||f.postMessage({type:"mgx-appview-error",targetName:window.name,data:{errMsg:((s=(n=t.response)==null?void 0:n.data)==null?void 0:s.message)||((i=(o=t.response)==null?void 0:o.data)==null?void 0:i.detail)||"Server Error",stack:JSON.stringify({url:(u=(l=t.response)==null?void 0:l.config)==null?void 0:u.url,data:(c=t.response)==null?void 0:c.data,status:(d=t.response)==null?void 0:d.status})}},"*"))}catch(m){console.warn("Failed to notify parent window about API error:",m)}},Vc=(t={})=>{var i,l,u;let{onUnauthorized:e,...r}=t,n=typeof globalThis<"u"&&"localStorage"in globalThis&&typeof((i=globalThis.localStorage)==null?void 0:i.getItem)=="function"?globalThis.localStorage.getItem("token")??void 0:void 0,s={timeout:6e4,paramsSerializer:c=>Wc.stringify(c,{arrayFormat:"brackets"}),...r,headers:{"Content-Type":"application/json","App-Host":((u=(l=globalThis==null?void 0:globalThis.window)==null?void 0:l.location)==null?void 0:u.origin)??"",...n?{Authorization:`Bearer ${n}`}:{},...r.headers}},o=U.create(s);return o.interceptors.request.use(c=>c,c=>Promise.reject(c)),o.interceptors.response.use(c=>c,c=>{var f;return((f=c.response)==null?void 0:f.status)===401&&e&&e(),Gc(c),Promise.reject(c)}),o},Jc=["stripe.com"],yr=t=>typeof t=="string"?t.startsWith("_")||t.startsWith("$")||t==="constructor"||t==="toString"||t==="valueOf"||t==="inspect"||t==="toJSON":!0,Sn=()=>{var n;let t=((n=window.location)==null?void 0:n.href)??"",e="";t.startsWith("/")?e=t:t&&(e=t.replace(/^[a-z][a-z0-9+.-]*:\/\/[^/]+/i,""));let r=new URLSearchParams({from_url:e});window.location.href=`/api/v1/auth/login?${r.toString()}`},Kc=()=>{var t,e;return(e=(t=globalThis==null?void 0:globalThis.window)==null?void 0:t.name)==null?void 0:e.includes("devIframe")},Qc=t=>t?Jc.some(e=>t.toString().includes(e)):!1,Xc=t=>{let{requestInstance:e}=t;return{async login(){var s,o;let r=new URLSearchParams(window.location.search),n=r.get("token");n&&typeof globalThis<"u"&&"localStorage"in globalThis?((s=globalThis.localStorage)==null||s.setItem("token",n),(o=globalThis.localStorage)==null||o.setItem("isLougOutManual","false"),window.location.href="/"):setTimeout(()=>{Sn()})},async me(){return e.get("/api/v1/auth/me")},async logout(){var n,s;typeof globalThis<"u"&&"localStorage"in globalThis&&((n=globalThis.localStorage)==null||n.removeItem("token"),(s=globalThis.localStorage)==null||s.setItem("isLougOutManual","true"));let r=await e.get("/api/v1/auth/logout");return typeof globalThis<"u"&&"window"in globalThis&&(globalThis.window.opener=null),window.location.href="/",r},toLogin:Sn}},Yc=t=>{let{requestInstance:e,entityName:r}=t,n=`/api/v1/entities/${r}`,s=o=>{if(!o)return;let i={...o};return o.fields&&Array.isArray(o.fields)&&(i.fields=o.fields.join(",")),o.query&&typeof o.query=="object"&&(i.query=JSON.stringify(o.query)),i};return{async query(o){let i=s(o);return e.get(n,{params:i})},async queryAll(o){let i=s(o);return e.get(`${n}/all`,{params:i})},async get(o){let{id:i,...l}=o,u=s(l);return e.get(`${n}/${i}`,{params:u})},async create(o){return e.post(n,o.data)},async update(o){return e.put(`${n}/${o.id}`,o.data)},async delete(o){return e.delete(`${n}/${o.id}`)},async deleteBatch(o){return e.delete(`${n}/batch`,{data:{ids:o.ids}})},async createBatch(o){return e.post(`${n}/batch`,o.data)},async updateBatch(o){return e.put(`${n}/batch`,o.data)}}},Zc=t=>{let{requestInstance:e}=t,r=new Map;return new Proxy({},{get(n,s){if(!yr(s))return r.has(s)||r.set(s,Yc({requestInstance:e,entityName:s})),r.get(s)}})},ed=t=>{let{requestInstance:e}=t;return{async invoke(r){var u,c,d;let{url:n,method:s="GET",data:o,options:i={}}=r;if(typeof window<"u"&&(i==null?void 0:i.responseType)==="stream"){let f;try{typeof globalThis<"u"&&"localStorage"in globalThis&&typeof((u=globalThis.localStorage)==null?void 0:u.getItem)=="function"&&(f=globalThis.localStorage.getItem("token")??void 0)}catch{}let m={"Content-Type":"application/json","App-Host":((d=(c=globalThis==null?void 0:globalThis.window)==null?void 0:c.location)==null?void 0:d.origin)??"",...f?{Authorization:`Bearer ${f}`}:{},...i.headers||{}},g;return o&&["POST","PUT","PATCH"].includes(s.toUpperCase())&&(g=JSON.stringify(o)),await fetch(n,{method:s.toUpperCase(),headers:m,body:g})}let l={method:s.toUpperCase(),url:n,...i};return o&&["POST","PUT","PATCH"].includes(l.method)?l.data=o:o&&["GET","DELETE"].includes(l.method)&&(l.params=o),e.request(l)}}},td=t=>{let{requestInstance:e}=t;return new Proxy({},{get(r,n){if(!yr(n))return new Proxy({},{get(s,o){if(!yr(o))return(i={})=>{let l=`/api/integrations/core/${o}`;n!=="core"&&(l=`/api/integrations/providers/${n}/${o}`);let{payload:u={},option:c={}}=i,d=u instanceof FormData?{...c,headers:{...c.headers,"Content-Type":void 0}}:c;return e.post(l,u,d)}}})}})};let En=null;const rd=t=>{var s;if(En)return;let{requestInstance:e}=t,r=async o=>{var c,d;if((c=globalThis==null?void 0:globalThis.localStorage)==null?void 0:c.getItem("token"))return;let l=o.token,u=await e.post("/api/v1/auth/token/exchange",{platform_token:l});u.status===200&&u.data.token&&((d=globalThis==null?void 0:globalThis.localStorage)==null||d.setItem("token",u.data.token),window.location.href="/")},n=o=>{switch(o.data.type){case"mgx-token-saved":r(o.data.data);break}};En={requestInstance:e,handleMessage:n},(s=globalThis==null?void 0:globalThis.window)==null||s.addEventListener("message",n)},$a=()=>({postMessage:(e,r,n,s)=>{var o,i,l,u;if((globalThis==null?void 0:globalThis.window)===void 0||!((o=globalThis==null?void 0:globalThis.window)!=null&&o.top)){console.warn("postMessage: window.top is not available");return}try{let{targetOrigin:c="*",targetName:d=((i=globalThis==null?void 0:globalThis.window)==null?void 0:i.name)??""}=n||{},f={type:e,targetName:d,data:r};(u=s??((l=globalThis==null?void 0:globalThis.window)==null?void 0:l.top))==null||u.postMessage(f,c)}catch(c){console.warn("Failed to send postMessage:",c)}}});let On=!1;const nd=t=>{rd(t);let{postMessage:e}=$a();return(()=>{var i,l,u,c,d,f,m,g;if(On)return;On=!0;let n=(i=globalThis==null?void 0:globalThis.localStorage)==null?void 0:i.getItem("token"),s=((l=globalThis==null?void 0:globalThis.localStorage)==null?void 0:l.getItem("isLougOutManual"))==="true",o=window.self!==window.top&&((u=window.name)==null?void 0:u.includes("devIframe"));!n&&!s&&o&&(e("mgx-token-request",{domain:((d=(c=globalThis==null?void 0:globalThis.window)==null?void 0:c.location)==null?void 0:d.href)??""},{},(f=globalThis==null?void 0:globalThis.window)==null?void 0:f.opener),e("mgx-token-request",{domain:((g=(m=globalThis==null?void 0:globalThis.window)==null?void 0:m.location)==null?void 0:g.href)??""}))})(),{createPage(n){var i,l;let{path:s,prompt:o}=n;e("mgx-create-page",{path:s??((l=(i=globalThis==null?void 0:globalThis.window)==null?void 0:i.location)==null?void 0:l.pathname)??"",prompt:o})}}},ad=()=>{let{postMessage:t}=$a();return{openUrl:r=>{var n;if(r){if((globalThis==null?void 0:globalThis.window)===void 0){console.warn("openUrl: window is not available");return}if(Qc(r)&&Kc()){t("mgx-open-url",{url:r.toString()},{},(n=globalThis==null?void 0:globalThis.window)==null?void 0:n.opener);return}globalThis.window.location.href=r.toString()}}}},sd=t=>{let{requestInstance:e}=t;async function r(o,i,l,u){var g,p,x,h,w;let c=(g=o.body)==null?void 0:g.getReader();if(!c){let S=Error("Response body is not readable");throw u==null||u(S),S}let d=new TextDecoder,f="",m="";try{for(;;){let{done:v,value:j}=await c.read();if(v)break;m+=d.decode(j,{stream:!0});let A=m.split(`
`);m=A.pop()||"";for(let R of A){if(!R.startsWith("data: "))continue;let N=R.slice(6).trim();if(N!=="[DONE]")try{let E=JSON.parse(N);if((p=E.content)!=null&&p.startsWith("[ERROR]")){let F=Error(E.content);throw u==null||u(F),F}E.content&&(f+=E.content,i==null||i({content:E.content}))}catch(E){if((x=E.message)!=null&&x.startsWith("[ERROR]"))throw E}}}if(m.startsWith("data: ")){let v=m.slice(6).trim();if(v!=="[DONE]")try{let j=JSON.parse(v);if((h=j.content)!=null&&h.startsWith("[ERROR]")){let A=Error(j.content);throw u==null||u(A),A}j.content&&(f+=j.content,i==null||i({content:j.content}))}catch(j){if((w=j.message)!=null&&w.startsWith("[ERROR]"))throw j}}let S={content:f};return l==null||l(S),S}catch(S){throw S instanceof Error&&(u==null||u(S)),S}}async function n(o){var m,g,p;let{messages:i,model:l,stream:u,timeout:c}=o,d="/api/v1/aihub/gentxt",f={messages:i,model:l,stream:u};if(u){let x=o,{onChunk:h,onComplete:w,onError:S}=x;if(typeof window<"u"){let j;try{typeof globalThis<"u"&&"localStorage"in globalThis&&typeof((m=globalThis.localStorage)==null?void 0:m.getItem)=="function"&&(j=globalThis.localStorage.getItem("token")??void 0)}catch{}let A={"Content-Type":"application/json","App-Host":((p=(g=globalThis==null?void 0:globalThis.window)==null?void 0:g.location)==null?void 0:p.origin)??"",...j?{Authorization:`Bearer ${j}`}:{}},R=new AbortController,N=c?setTimeout(()=>R.abort(),c):void 0;try{let E=await fetch(d,{method:"POST",headers:A,body:JSON.stringify(f),signal:R.signal});if(N&&clearTimeout(N),!E.ok){let F=Error(`HTTP error! status: ${E.status}`);throw S==null||S(F),F}return await r(E,h,w,S)}catch(E){throw N&&clearTimeout(N),E instanceof Error&&(S==null||S(E)),E}}return{content:(await e.request({method:"POST",url:d,data:f,responseType:"stream",timeout:c})).data}}return e.request({method:"POST",url:d,data:f,timeout:c})}async function s(o,i={}){let{prompt:l,model:u,size:c="1024x1024",quality:d="standard",n:f=1,image:m}=o,{timeout:g=6e5}=i,p="/api/v1/aihub/genimg",x={prompt:l,model:u,size:c,n:f};return m||(x.quality=d),m&&(x.image=m),e.request({method:"POST",url:p,data:x,timeout:g})}return{gentxt:n,genimg:s}};function od(t){return new Promise(e=>{let r=document.createElement("input");r.type="file",t&&(r.accept=t),r.onchange=()=>{var o;let s=((o=r.files)==null?void 0:o[0])??null;e(s)},r.oncancel=()=>{e(null)};let n=()=>{setTimeout(()=>{var s;(s=r.files)!=null&&s.length||e(null),window.removeEventListener("focus",n)},300)};window.addEventListener("focus",n),r.click()})}const id=t=>{let{requestInstance:e}=t;async function r(f){return e.request({method:"POST",url:"/api/v1/storage/create-bucket",data:f})}async function n(){return e.request({method:"GET",url:"/api/v1/storage/list-buckets"})}async function s(f){return e.request({method:"GET",url:"/api/v1/storage/list-objects",params:f})}async function o(f){return e.request({method:"GET",url:"/api/v1/storage/get-object-info",params:f})}async function i(f){return e.request({method:"POST",url:"/api/v1/storage/rename-object",data:f})}async function l(f){return e.request({method:"POST",url:"/api/v1/storage/upload-url",data:f})}async function u(f){return e.request({method:"POST",url:"/api/v1/storage/download-url",data:f})}async function c(f){let{bucket_name:m,accept:g}=f,{file:p,object_key:x}=f;if(!p){if(typeof window>"u"||typeof document>"u")throw TypeError("File picker is only available in browser environment. Please provide a file.");let S=await od(g);if(!S)throw Error("File selection cancelled");p=S}x||(x=p.name);let{data:h}=await l({bucket_name:m,object_key:x}),w=await fetch(h.upload_url,{method:"PUT",body:p,headers:{"Content-Type":p.type||"application/octet-stream"}});if(!w.ok)throw Error(`Upload failed with status ${w.status}: ${w.statusText}`);return{bucket_name:m,object_key:x,size:p.size,file_name:p.name}}async function d(f){let{data:m}=await u(f);if(typeof window<"u"&&typeof document<"u"){let g=document.createElement("a");g.href=m.download_url;let p=f.object_key.split("/").pop()||"download";g.download=p,document.body.appendChild(g),g.click(),document.body.removeChild(g)}return m.download_url}return{createBucket:r,listBuckets:n,listObjects:s,getObjectInfo:o,renameObject:i,getUploadUrl:l,getDownloadUrl:u,upload:c,download:d}},se=(t={})=>{let e=Vc({baseURL:"/",...t}),r=Xc({requestInstance:e}),n=Zc({requestInstance:e}),s=ed({requestInstance:e}),o=td({requestInstance:e}),i=nd({requestInstance:e}),l=ad(),u=sd({requestInstance:e}),c=id({requestInstance:e});return{auth:r,entities:n,apiCall:s,integrations:o,frame:i,utils:l,ai:u,storage:c}},ld=Object.freeze(Object.defineProperty({__proto__:null,createClient:se},Symbol.toStringTag,{value:"Module"})),qe=se();function Le(){const[t,e]=b.useState(null),[r,n]=b.useState(!0),[s,o]=b.useState(null),[i,l]=b.useState(null),[u,c]=b.useState(null);b.useEffect(()=>{d()},[]);const d=async()=>{try{const g=new Promise((h,w)=>setTimeout(()=>w(new Error("Auth check timeout")),5e3)),p=qe.auth.me(),x=await Promise.race([p,g]);if(x!=null&&x.data){e(x.data);try{const h=await qe.entities.user_profiles.query({query:{user_id:x.data.id},limit:1});if(h.data.items.length>0){const w=h.data.items[0];l(w),c(w.role);try{const S=await qe.entities.organizations.get({id:w.organization_id});o(S.data)}catch(S){console.error("Failed to fetch organization:",S)}}}catch(h){console.error("Failed to fetch user profile:",h)}}}catch(g){console.error("Auth check failed:",g),e(null)}finally{n(!1)}};return{user:t,organization:s,userProfile:i,role:u,loading:r,isAuthenticated:!!t,isOwner:u==="owner",isManager:u==="manager",isCashier:u==="cashier",isAdmin:u==="owner"||u==="manager",login:()=>{qe.auth.toLogin()},logout:async()=>{await qe.auth.logout(),e(null),o(null),l(null),c(null)},checkAuth:d}}const cd=se();function dd(){return b.useEffect(()=>{cd.auth.login()},[]),a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Processing authentication..."})]})})}function z(...t){return ts(rs(t))}const ud=xr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),P=b.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const i=n?Ua:"button";return a.jsx(i,{className:z(ud({variant:e,size:r,className:t})),ref:o,...s})});P.displayName="Button";const B=b.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:z("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));B.displayName="Card";const K=b.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:z("flex flex-col space-y-1.5 p-6",t),...e}));K.displayName="CardHeader";const Q=b.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:z("text-2xl font-semibold leading-none tracking-tight",t),...e}));Q.displayName="CardTitle";const Te=b.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:z("text-sm text-muted-foreground",t),...e}));Te.displayName="CardDescription";const q=b.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:z("p-6 pt-0",t),...e}));q.displayName="CardContent";const fd=b.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:z("flex items-center p-6 pt-0",t),...e}));fd.displayName="CardFooter";function pd(){const{isAuthenticated:t,login:e,loading:r}=Le(),n=he();return b.useEffect(()=>{t&&n("/pos")},[t,n]),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{children:"Loading..."})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:a.jsxs(B,{className:"w-full max-w-md",children:[a.jsxs(K,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-primary text-primary-foreground p-4 rounded-full",children:a.jsx(Dn,{className:"h-12 w-12"})})}),a.jsx(Q,{className:"text-3xl",children:"POS System"}),a.jsx(Te,{children:"Multi-tenant Point of Sale platform for small businesses"})]}),a.jsxs(q,{children:[a.jsx(P,{onClick:e,className:"w-full h-12 text-lg",children:"Sign In"}),a.jsx("p",{className:"text-center text-sm text-gray-600 mt-4",children:"Secure authentication powered by Atoms Cloud"})]})]})})}const pe=b.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));pe.displayName="Input";const md=xr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J=b.forwardRef(({className:t,...e},r)=>a.jsx(An,{ref:r,className:z(md(),t),...e}));J.displayName=An.displayName;const Ve=b.forwardRef(({className:t,...e},r)=>a.jsx(_n,{className:z("grid gap-2",t),...e,ref:r}));Ve.displayName=_n.displayName;const ue=b.forwardRef(({className:t,...e},r)=>a.jsx(Tn,{ref:r,className:z("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(Ha,{className:"flex items-center justify-center",children:a.jsx(ns,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ue.displayName=Tn.displayName;const hd=se();function yd(){const t=he(),{user:e,checkAuth:r}=Le(),[n,s]=b.useState(1),[o,i]=b.useState(!1),[l,u]=b.useState("existing"),[c,d]=b.useState(""),[f,m]=b.useState(""),[g,p]=b.useState("cashier"),x=async()=>{i(!0);try{const h=new Date().toISOString().slice(0,19).replace("T"," ");await hd.entities.user_profiles.create({data:{user_id:e.id,organization_id:1,role:g,first_name:c||"Demo",last_name:f||"User",is_active:!0,created_at:h,updated_at:h}}),await r(),t("/pos")}catch(h){console.error("Failed to create user profile:",h),alert("Failed to complete onboarding. Please try again.")}finally{i(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 flex items-center justify-center",children:a.jsxs(B,{className:"w-full max-w-2xl",children:[a.jsxs(K,{children:[a.jsx(Q,{className:"text-2xl",children:"Welcome to POS System"}),a.jsxs(Te,{children:["Let's set up your account - Step ",n," of 2"]})]}),a.jsxs(q,{children:[n===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Choose Your Organization"}),a.jsxs(Ve,{value:l,onValueChange:h=>u(h),children:[a.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg hover:bg-gray-50",children:[a.jsx(ue,{value:"existing",id:"existing",className:"mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(J,{htmlFor:"existing",className:"cursor-pointer font-medium",children:"Join Demo Coffee Shop"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Join the demo organization with sample products and data"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg hover:bg-gray-50 opacity-50",children:[a.jsx(ue,{value:"new",id:"new",disabled:!0,className:"mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(J,{htmlFor:"new",className:"font-medium",children:"Create New Organization (Coming Soon)"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Set up your own business with custom branding"})]})]})]})]}),a.jsx(P,{onClick:()=>s(2),className:"w-full",children:"Continue"})]}),n===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Profile"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"firstName",children:"First Name"}),a.jsx(pe,{id:"firstName",value:c,onChange:h=>d(h.target.value),placeholder:"John"})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"lastName",children:"Last Name"}),a.jsx(pe,{id:"lastName",value:f,onChange:h=>m(h.target.value),placeholder:"Doe"})]})]}),a.jsxs("div",{children:[a.jsx(J,{className:"mb-3 block",children:"Your Role"}),a.jsxs(Ve,{value:g,onValueChange:h=>p(h),children:[a.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded hover:bg-gray-50",children:[a.jsx(ue,{value:"owner",id:"owner",className:"mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(J,{htmlFor:"owner",className:"cursor-pointer font-medium",children:"Owner"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Full access to all features"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded hover:bg-gray-50",children:[a.jsx(ue,{value:"manager",id:"manager",className:"mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(J,{htmlFor:"manager",className:"cursor-pointer font-medium",children:"Manager"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage catalog and view reports"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded hover:bg-gray-50",children:[a.jsx(ue,{value:"cashier",id:"cashier",className:"mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(J,{htmlFor:"cashier",className:"cursor-pointer font-medium",children:"Cashier"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Process orders and sales"})]})]})]})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{variant:"outline",onClick:()=>s(1),className:"flex-1",children:"Back"}),a.jsx(P,{onClick:x,disabled:o,className:"flex-1",children:o?"Setting up...":"Complete Setup"})]})]})]})]})})}const xd="modulepreload",gd=function(t){return"/"+t},Rn={},vd=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=gd(u),u in Rn)return;Rn[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":xd,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},bd=se();function wd({onAddToCart:t}){const[e,r]=b.useState([]),[n,s]=b.useState("all"),[o,i]=b.useState([]),[l,u]=b.useState(!0);b.useEffect(()=>{c()},[]);const c=async()=>{try{const m=(await bd.entities.items.query({query:{is_active:!0},sort:"category,name",limit:100})).data.items;r(m);const g=Array.from(new Set(m.map(p=>p.category).filter(Boolean)));i(g)}catch(f){console.error("Failed to load items:",f)}finally{u(!1)}},d=n==="all"?e:e.filter(f=>f.category===n);return l?a.jsx("div",{className:"flex items-center justify-center h-full",children:"Loading products..."}):a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:[a.jsx(P,{variant:n==="all"?"default":"outline",onClick:()=>s("all"),className:"whitespace-nowrap",children:"All Items"}),o.map(f=>a.jsx(P,{variant:n===f?"default":"outline",onClick:()=>s(f),className:"whitespace-nowrap",children:f},f))]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 overflow-y-auto",children:d.map(f=>a.jsx(B,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>t(f),children:a.jsxs(q,{className:"p-4",children:[f.image_url&&a.jsx("img",{src:f.image_url,alt:f.name,className:"w-full h-32 object-cover rounded mb-2"}),a.jsx("h3",{className:"font-semibold text-lg mb-1",children:f.name}),f.description&&a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:f.description}),a.jsxs("p",{className:"text-xl font-bold text-primary",children:["$",f.base_price.toFixed(2)]}),f.track_inventory&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Stock: ",f.current_stock]})]})},f.id))}),d.length===0&&a.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No items found in this category"})]})}function jd({items:t,subtotal:e,taxAmount:r,total:n,onUpdateQuantity:s,onRemoveItem:o,onCheckout:i,onClearCart:l}){return a.jsxs("div",{className:"h-full flex flex-col bg-white",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Cart"}),t.length>0&&a.jsx(P,{variant:"ghost",size:"sm",onClick:l,className:"text-red-600 hover:text-red-700",children:"Clear"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:t.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"Cart is empty"}):t.map(u=>a.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold",children:u.itemName}),u.variantName&&a.jsx("p",{className:"text-sm text-gray-600",children:u.variantName}),u.modifiers.length>0&&a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:u.modifiers.map((c,d)=>a.jsxs("div",{children:["+ ",c.optionName,c.priceAdjustment>0&&` (+$${c.priceAdjustment.toFixed(2)})`]},d))})]}),a.jsx(P,{variant:"ghost",size:"sm",onClick:()=>o(u.id),className:"text-red-600 hover:text-red-700 p-1",children:a.jsx(as,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>s(u.id,u.quantity-1),className:"h-8 w-8 p-0",children:a.jsx(ss,{className:"h-4 w-4"})}),a.jsx("span",{className:"font-semibold w-8 text-center",children:u.quantity}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>s(u.id,u.quantity+1),className:"h-8 w-8 p-0",children:a.jsx(os,{className:"h-4 w-4"})})]}),a.jsxs("span",{className:"font-bold",children:["$",u.subtotal.toFixed(2)]})]})]},u.id))}),t.length>0&&a.jsxs("div",{className:"border-t p-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["$",e.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tax:"}),a.jsxs("span",{children:["$",r.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["$",n.toFixed(2)]})]}),a.jsx(P,{onClick:i,className:"w-full h-12 text-lg",children:"Checkout"})]})]})}const Nd=Ga,Sd=za,ka=b.forwardRef(({className:t,...e},r)=>a.jsx(Pn,{ref:r,className:z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));ka.displayName=Pn.displayName;const Da=b.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(Sd,{children:[a.jsx(ka,{}),a.jsxs(In,{ref:n,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,a.jsxs(Wa,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(is,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Da.displayName=In.displayName;const La=({className:t,...e})=>a.jsx("div",{className:z("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});La.displayName="DialogHeader";const Ma=({className:t,...e})=>a.jsx("div",{className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ma.displayName="DialogFooter";const Ba=b.forwardRef(({className:t,...e},r)=>a.jsx(Fn,{ref:r,className:z("text-lg font-semibold leading-none tracking-tight",t),...e}));Ba.displayName=Fn.displayName;const Ed=b.forwardRef(({className:t,...e},r)=>a.jsx($n,{ref:r,className:z("text-sm text-muted-foreground",t),...e}));Ed.displayName=$n.displayName;const qa=b.forwardRef(({className:t,...e},r)=>a.jsx(kn,{ref:r,className:z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(Va,{className:z("flex items-center justify-center text-current"),children:a.jsx(ls,{className:"h-4 w-4"})})}));qa.displayName=kn.displayName;const nr=se();function Od({item:t,open:e,onClose:r,onAddToCart:n}){const[s,o]=b.useState([]),[i,l]=b.useState({}),[u,c]=b.useState({}),[d,f]=b.useState(1),[m,g]=b.useState(!1);b.useEffect(()=>{t&&e&&(p(),f(1),c({}))},[t,e]);const p=async()=>{if(t){g(!0);try{const j=(await nr.entities.item_modifier_groups.query({query:{item_id:t.id},sort:"sort_order",limit:50})).data.items;if(j.length===0){o([]),l({});return}const A=j.map(k=>k.modifier_group_id),E=(await nr.entities.modifier_groups.query({query:{},limit:50})).data.items.filter(k=>A.includes(k.id));E.sort((k,C)=>{var X,D;const I=((X=j.find(W=>W.modifier_group_id===k.id))==null?void 0:X.sort_order)||0,L=((D=j.find(W=>W.modifier_group_id===C.id))==null?void 0:D.sort_order)||0;return I-L}),o(E);const F={};for(const k of E){const C=await nr.entities.modifier_options.query({query:{modifier_group_id:k.id,is_active:!0},sort:"sort_order",limit:50});F[k.id]=C.data.items}l(F);const H={};for(const k of E)if(k.is_required&&k.selection_type==="choose_one"){const C=F[k.id];C&&C.length>0&&(H[k.id]=[C[0].id])}c(H)}catch(v){console.error("Failed to load modifiers:",v)}finally{g(!1)}}},x=(v,j)=>{c(A=>({...A,[v]:[j]}))},h=(v,j,A)=>{c(R=>{const N=R[v]||[];return A?{...R,[v]:[...N,j]}:{...R,[v]:N.filter(E=>E!==j)}})},w=()=>{for(const v of s){const j=u[v.id]||[];if(v.is_required&&j.length===0||j.length<v.min_selections||v.max_selections&&j.length>v.max_selections)return!1}return!0},S=()=>{const v=s.flatMap(j=>{const A=u[j.id]||[],R=i[j.id]||[];return A.map(N=>{const E=R.find(F=>F.id===N);return{modifierGroupId:j.id,modifierName:j.name,optionId:N,optionName:(E==null?void 0:E.name)||"",priceAdjustment:(E==null?void 0:E.price_adjustment)||0}})});n(v,d),r()};return t?a.jsx(Nd,{open:e,onOpenChange:r,children:a.jsxs(Da,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(La,{children:[a.jsx(Ba,{className:"text-2xl",children:t.name}),t.description&&a.jsx("p",{className:"text-gray-600",children:t.description})]}),m?a.jsx("div",{className:"py-8 text-center",children:"Loading options..."}):s.length===0?a.jsx("div",{className:"py-4",children:a.jsx("p",{className:"text-gray-600 mb-4",children:"No customization options available."})}):a.jsx("div",{className:"space-y-6 py-4",children:s.map(v=>{var R;const j=i[v.id]||[],A=u[v.id]||[];return a.jsxs("div",{className:"border-b pb-4",children:[a.jsxs("h3",{className:"font-semibold mb-2",children:[v.name,v.is_required&&a.jsx("span",{className:"text-red-600 ml-1",children:"*"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:v.selection_type==="choose_one"?"Choose one":`Choose ${v.min_selections} to ${v.max_selections||"many"}`}),v.selection_type==="choose_one"?a.jsx(Ve,{value:(R=A[0])==null?void 0:R.toString(),onValueChange:N=>x(v.id,parseInt(N)),children:j.map(N=>a.jsxs("div",{className:"flex items-center space-x-2 py-2",children:[a.jsx(ue,{value:N.id.toString(),id:`option-${N.id}`}),a.jsxs(J,{htmlFor:`option-${N.id}`,className:"flex-1 cursor-pointer",children:[N.name,N.price_adjustment!==0&&a.jsxs("span",{className:"text-gray-600 ml-2",children:[N.price_adjustment>0?"+":"","$",N.price_adjustment.toFixed(2)]})]})]},N.id))}):a.jsx("div",{className:"space-y-2",children:j.map(N=>a.jsxs("div",{className:"flex items-center space-x-2 py-2",children:[a.jsx(qa,{id:`option-${N.id}`,checked:A.includes(N.id),onCheckedChange:E=>h(v.id,N.id,E)}),a.jsxs(J,{htmlFor:`option-${N.id}`,className:"flex-1 cursor-pointer",children:[N.name,N.price_adjustment!==0&&a.jsxs("span",{className:"text-gray-600 ml-2",children:[N.price_adjustment>0?"+":"","$",N.price_adjustment.toFixed(2)]})]})]},N.id))})]},v.id)})}),a.jsxs(Ma,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium",children:"Quantity:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>f(Math.max(1,d-1)),children:"-"}),a.jsx("span",{className:"w-12 text-center font-semibold",children:d}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>f(d+1),children:"+"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{variant:"outline",onClick:r,children:"Cancel"}),a.jsx(P,{onClick:S,disabled:!w(),children:"Add to Cart"})]})]})]})}):null}function Rd(){const[t,e]=b.useState([]),r=b.useCallback(c=>{const d=`${c.itemId}-${c.variantId||0}-${Date.now()}`;e(f=>[...f,{...c,id:d}])},[]),n=b.useCallback(c=>{e(d=>d.filter(f=>f.id!==c))},[]),s=b.useCallback((c,d)=>{if(d<=0){n(c);return}e(f=>f.map(m=>{if(m.id===c){const g=m.modifiers.reduce((x,h)=>x+h.priceAdjustment,0),p=(m.unitPrice+g)*d;return{...m,quantity:d,subtotal:p}}return m}))},[n]),o=b.useCallback(()=>{e([])},[]),i=t.reduce((c,d)=>c+d.subtotal,0),l=t.reduce((c,d)=>c+d.quantity,0),u=t.reduce((c,d)=>c+d.subtotal*(d.taxRate/100),0);return{items:t,itemCount:l,subtotal:i,taxAmount:u,total:i+u,addItem:r,removeItem:n,updateQuantity:s,clearCart:o}}function Cd(){const t=he(),{logout:e,organization:r,userProfile:n}=Le(),{items:s,itemCount:o,subtotal:i,taxAmount:l,total:u,addItem:c,removeItem:d,updateQuantity:f,clearCart:m}=Rd(),[g,p]=b.useState(null),[x,h]=b.useState(!1),w=async R=>{await S(R.id)?(p(R),h(!0)):c({itemId:R.id,itemName:R.name,quantity:1,unitPrice:R.base_price,modifiers:[],subtotal:R.base_price,taxRate:R.tax_rate})},S=async R=>{try{const{createClient:N}=await vd(async()=>{const{createClient:H}=await Promise.resolve().then(()=>ld);return{createClient:H}},void 0);return(await N().entities.item_modifier_groups.query({query:{item_id:R},limit:1})).data.items.length>0}catch(N){return console.error("Failed to check modifiers:",N),!1}},v=(R,N)=>{if(!g)return;const E=R.reduce((H,k)=>H+k.priceAdjustment,0),F=g.base_price+E;c({itemId:g.id,itemName:g.name,quantity:N,unitPrice:g.base_price,modifiers:R,subtotal:F*N,taxRate:g.tax_rate})},j=()=>{t("/pos/checkout",{state:{cartItems:s,subtotal:i,taxAmount:l,total:u}})},A=async()=>{await e(),t("/login")};return a.jsxs("div",{className:"h-screen flex flex-col",children:[a.jsxs("header",{className:"bg-primary text-primary-foreground p-4 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:(r==null?void 0:r.name)||"POS System"}),a.jsxs("p",{className:"text-sm opacity-90",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name," (",n==null?void 0:n.role,")"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{variant:"secondary",size:"sm",onClick:()=>t("/orders"),children:[a.jsx(cs,{className:"h-4 w-4 mr-2"}),"Orders"]}),a.jsxs(P,{variant:"secondary",size:"sm",onClick:()=>t("/settings"),children:[a.jsx(ds,{className:"h-4 w-4 mr-2"}),"Settings"]}),a.jsxs(P,{variant:"secondary",size:"sm",onClick:A,children:[a.jsx(us,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:a.jsx(wd,{onAddToCart:w})}),a.jsx("div",{className:"w-96 border-l hidden lg:block",children:a.jsx(jd,{items:s,subtotal:i,taxAmount:l,total:u,onUpdateQuantity:f,onRemoveItem:d,onCheckout:j,onClearCart:m})})]}),o>0&&a.jsx("div",{className:"lg:hidden fixed bottom-4 right-4",children:a.jsxs(P,{size:"lg",className:"rounded-full shadow-lg",onClick:()=>t("/pos/cart"),children:["Cart (",o,") - $",u.toFixed(2)]})}),a.jsx(Od,{item:g,open:x,onClose:()=>{h(!1),p(null)},onAddToCart:v})]})}const ot=se();function Ad(){const t=Xa(),e=he(),{userProfile:r,organization:n}=Le(),{cartItems:s=[],subtotal:o=0,taxAmount:i=0,total:l=0}=t.state||{},[u,c]=b.useState(""),[d,f]=b.useState(""),[m,g]=b.useState(""),[p,x]=b.useState(0),[h,w]=b.useState("none"),[S,v]=b.useState(""),[j,A]=b.useState("cash"),[R,N]=b.useState(!1),E=l+p,F=()=>{const C=Date.now().toString().slice(-6),I=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`ORD-${C}-${I}`},H=async()=>{if(s.length===0){alert("Cart is empty");return}N(!0);try{const C=F(),I=new Date().toISOString().slice(0,19).replace("T"," "),L={organization_id:n==null?void 0:n.id,order_number:C,cashier_id:r==null?void 0:r.id,customer_name:u||null,customer_email:d||null,customer_phone:m||null,subtotal:o,tax_amount:i,discount_amount:0,tip_amount:p,total_amount:E,status:j==="cash"?"paid":"pending",payment_method:j,payment_status:j==="cash"?"completed":"unpaid",created_at:I,completed_at:j==="cash"?I:null},D=(await ot.entities.orders.create({data:L})).data;for(const W of s){const re={order_id:D.id,item_id:W.itemId,variant_id:W.variantId||null,item_name:W.itemName,variant_name:W.variantName||null,quantity:W.quantity,unit_price:W.unitPrice,subtotal:W.subtotal,created_at:I},xe=(await ot.entities.order_items.create({data:re})).data;for(const te of W.modifiers)await ot.entities.order_item_modifiers.create({data:{order_item_id:xe.id,modifier_option_id:te.optionId,modifier_name:te.modifierName,option_name:te.optionName,price_adjustment:te.priceAdjustment,created_at:I}})}j==="cash"&&await ot.entities.payments.create({data:{organization_id:n==null?void 0:n.id,order_id:D.id,amount:E,payment_method:"cash",status:"completed",processed_at:I,created_at:I}}),e(`/pos/receipt/${D.id}`,{replace:!0})}catch(C){console.error("Checkout failed:",C),alert("Checkout failed. Please try again.")}finally{N(!1)}},k=C=>{w("percent"),x(o*(C/100))};return a.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs(P,{variant:"ghost",onClick:()=>e(-1),className:"mb-4",children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Back to POS"]}),a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Checkout"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(B,{children:[a.jsx(K,{children:a.jsx(Q,{children:"Customer Information (Optional)"})}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(J,{htmlFor:"customerName",children:"Name"}),a.jsx(pe,{id:"customerName",value:u,onChange:C=>c(C.target.value),placeholder:"Customer name"})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"customerEmail",children:"Email"}),a.jsx(pe,{id:"customerEmail",type:"email",value:d,onChange:C=>f(C.target.value),placeholder:"customer@example.com"})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"customerPhone",children:"Phone"}),a.jsx(pe,{id:"customerPhone",type:"tel",value:m,onChange:C=>g(C.target.value),placeholder:"(555) 123-4567"})]})]})]}),a.jsxs(B,{children:[a.jsx(K,{children:a.jsx(Q,{children:"Tip"})}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsx(P,{variant:h==="none"?"default":"outline",onClick:()=>{w("none"),x(0)},children:"No Tip"}),a.jsx(P,{variant:h==="percent"&&p===o*.1?"default":"outline",onClick:()=>k(10),children:"10%"}),a.jsx(P,{variant:h==="percent"&&p===o*.15?"default":"outline",onClick:()=>k(15),children:"15%"}),a.jsx(P,{variant:h==="percent"&&p===o*.2?"default":"outline",onClick:()=>k(20),children:"20%"})]}),a.jsxs("div",{children:[a.jsx(J,{htmlFor:"customTip",children:"Custom Tip Amount"}),a.jsx(pe,{id:"customTip",type:"number",step:"0.01",value:S,onChange:C=>{v(C.target.value),w("custom"),x(parseFloat(C.target.value)||0)},placeholder:"0.00"})]})]})]}),a.jsxs(B,{children:[a.jsx(K,{children:a.jsx(Q,{children:"Payment Method"})}),a.jsx(q,{children:a.jsxs(Ve,{value:j,onValueChange:C=>A(C),children:[a.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded hover:bg-gray-50",children:[a.jsx(ue,{value:"cash",id:"cash"}),a.jsx(J,{htmlFor:"cash",className:"flex-1 cursor-pointer",children:"Cash"})]}),a.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded hover:bg-gray-50 opacity-50",children:[a.jsx(ue,{value:"card",id:"card",disabled:!0}),a.jsx(J,{htmlFor:"card",className:"flex-1",children:"Card (Helcim - Coming Soon)"})]})]})})]})]}),a.jsx("div",{children:a.jsxs(B,{children:[a.jsx(K,{children:a.jsx(Q,{children:"Order Summary"})}),a.jsxs(q,{className:"space-y-4",children:[a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:s.map(C=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{children:[C.quantity,"x ",C.itemName]}),C.modifiers.length>0&&a.jsx("div",{className:"text-xs text-gray-600 ml-4",children:C.modifiers.map((I,L)=>a.jsxs("div",{children:["+ ",I.optionName]},L))})]}),a.jsxs("div",{children:["$",C.subtotal.toFixed(2)]})]},C.id))}),a.jsxs("div",{className:"border-t pt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["$",o.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tax:"}),a.jsxs("span",{children:["$",i.toFixed(2)]})]}),p>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tip:"}),a.jsxs("span",{children:["$",p.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-xl font-bold border-t pt-2",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["$",E.toFixed(2)]})]})]}),a.jsx(P,{onClick:H,disabled:R,className:"w-full h-12 text-lg",children:R?"Processing...":`Complete Payment - $${E.toFixed(2)}`})]})]})})]})]})})}const ar=se();function _d(){var g;const{orderId:t}=Ya(),e=he(),[r,n]=b.useState(null),[s,o]=b.useState([]),[i,l]=b.useState({}),[u,c]=b.useState(!0);b.useEffect(()=>{d()},[t]);const d=async()=>{if(t)try{const p=await ar.entities.orders.get({id:parseInt(t)});n(p.data);const h=(await ar.entities.order_items.query({query:{order_id:parseInt(t)},limit:100})).data.items;o(h);const w={};for(const S of h){const v=await ar.entities.order_item_modifiers.query({query:{order_item_id:S.id},limit:50});w[S.id]=v.data.items}l(w)}catch(p){console.error("Failed to load order details:",p)}finally{c(!1)}},f=()=>{window.print()},m=()=>{e("/pos",{replace:!0})};return u?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{children:"Loading receipt..."})}):r?a.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex gap-2 mb-4 print:hidden",children:[a.jsxs(P,{onClick:f,variant:"outline",children:[a.jsx(fs,{className:"h-4 w-4 mr-2"}),"Print Receipt"]}),a.jsxs(P,{onClick:m,children:[a.jsx(ps,{className:"h-4 w-4 mr-2"}),"New Order"]})]}),a.jsx(B,{className:"print:shadow-none",children:a.jsxs(q,{className:"p-8",children:[a.jsxs("div",{className:"text-center mb-6 border-b pb-4",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Receipt"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",r.order_number]}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date(r.created_at).toLocaleString()})]}),(r.customer_name||r.customer_email||r.customer_phone)&&a.jsxs("div",{className:"mb-6 border-b pb-4",children:[a.jsx("h2",{className:"font-semibold mb-2",children:"Customer"}),r.customer_name&&a.jsx("p",{className:"text-sm",children:r.customer_name}),r.customer_email&&a.jsx("p",{className:"text-sm",children:r.customer_email}),r.customer_phone&&a.jsx("p",{className:"text-sm",children:r.customer_phone})]}),a.jsxs("div",{className:"mb-6 border-b pb-4",children:[a.jsx("h2",{className:"font-semibold mb-3",children:"Items"}),a.jsx("div",{className:"space-y-3",children:s.map(p=>{const x=i[p.id]||[];return a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("span",{className:"font-medium",children:[p.quantity,"x"]})," ",p.item_name,p.variant_name&&a.jsxs("span",{className:"text-gray-600",children:[" - ",p.variant_name]})]}),a.jsxs("div",{className:"font-medium",children:["$",p.subtotal.toFixed(2)]})]}),x.length>0&&a.jsx("div",{className:"ml-6 text-gray-600",children:x.map((h,w)=>a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["+ ",h.option_name]}),h.price_adjustment>0&&a.jsxs("span",{children:["+$",h.price_adjustment.toFixed(2)]})]},w))})]},p.id)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["$",r.subtotal.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tax:"}),a.jsxs("span",{children:["$",r.tax_amount.toFixed(2)]})]}),r.discount_amount>0&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Discount:"}),a.jsxs("span",{children:["-$",r.discount_amount.toFixed(2)]})]}),r.tip_amount>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tip:"}),a.jsxs("span",{children:["$",r.tip_amount.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-xl font-bold border-t pt-2",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["$",r.total_amount.toFixed(2)]})]})]}),a.jsxs("div",{className:"mt-6 pt-4 border-t text-center text-sm text-gray-600",children:[a.jsxs("p",{children:["Payment Method: ",(g=r.payment_method)==null?void 0:g.toUpperCase()]}),a.jsxs("p",{className:"mt-2",children:["Status: ",r.status.toUpperCase()]}),r.completed_at&&a.jsxs("p",{children:["Completed: ",new Date(r.completed_at).toLocaleString()]})]}),a.jsx("div",{className:"mt-6 pt-4 border-t text-center text-sm text-gray-500",children:a.jsx("p",{children:"Thank you for your business!"})})]})})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{children:"Order not found"})})}const Td=xr("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pd({className:t,variant:e,...r}){return a.jsx("div",{className:z(Td({variant:e}),t),...r})}const Id=se();function Fd(){const t=he(),[e,r]=b.useState([]),[n,s]=b.useState([]),[o,i]=b.useState(""),[l,u]=b.useState(!0);b.useEffect(()=>{c()},[]),b.useEffect(()=>{if(o){const f=e.filter(m=>{var g,p;return m.order_number.toLowerCase().includes(o.toLowerCase())||((g=m.customer_name)==null?void 0:g.toLowerCase().includes(o.toLowerCase()))||((p=m.customer_email)==null?void 0:p.toLowerCase().includes(o.toLowerCase()))});s(f)}else s(e)},[o,e]);const c=async()=>{try{const f=await Id.entities.orders.query({query:{},sort:"-created_at",limit:100});r(f.data.items),s(f.data.items)}catch(f){console.error("Failed to load orders:",f)}finally{u(!1)}},d=f=>{switch(f){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"refunded":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{children:"Loading orders..."})}):a.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(P,{variant:"ghost",onClick:()=>t("/pos"),children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Back to POS"]}),a.jsx("h1",{className:"text-3xl font-bold flex-1",children:"Order History"})]}),a.jsxs(B,{className:"mb-6",children:[a.jsx(K,{children:a.jsx(Q,{children:"Search Orders"})}),a.jsx(q,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ms,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(pe,{placeholder:"Search by order number, customer name, or email...",value:o,onChange:f=>i(f.target.value),className:"pl-10"})]})})]}),a.jsx("div",{className:"space-y-4",children:n.length===0?a.jsx(B,{children:a.jsx(q,{className:"py-12 text-center text-gray-500",children:o?"No orders found matching your search":"No orders yet"})}):n.map(f=>{var m;return a.jsx(B,{className:"hover:shadow-md transition-shadow",children:a.jsx(q,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:f.order_number}),a.jsx(Pd,{className:d(f.status),children:f.status.toUpperCase()})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:["Date: ",new Date(f.created_at).toLocaleString()]}),f.customer_name&&a.jsxs("p",{children:["Customer: ",f.customer_name]}),f.customer_email&&a.jsxs("p",{children:["Email: ",f.customer_email]}),a.jsxs("p",{children:["Payment: ",((m=f.payment_method)==null?void 0:m.toUpperCase())||"N/A"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold mb-2",children:["$",f.total_amount.toFixed(2)]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>t(`/pos/receipt/${f.id}`),children:[a.jsx(hs,{className:"h-4 w-4 mr-2"}),"View Receipt"]})]})]})})},f.id)})})]})})}const Cn=se();function $d(){const t=he(),[e,r]=b.useState([]),[n,s]=b.useState([]),[o,i]=b.useState(!0);b.useEffect(()=>{l()},[]);const l=async()=>{try{const d=await Cn.entities.orders.query({query:{status:"paid"},sort:"-created_at",limit:100});r(d.data.items);const f=await Cn.entities.order_items.query({query:{},limit:500});s(f.data.items)}catch(d){console.error("Failed to load data:",d)}finally{i(!1)}},u=()=>{const d=e.reduce((h,w)=>h+w.total_amount,0),f=e.length,m=f>0?d/f:0,g={};e.forEach(h=>{const w=h.payment_method||"unknown";g[w]=(g[w]||0)+h.total_amount});const p={};n.forEach(h=>{p[h.item_name]||(p[h.item_name]={quantity:0,revenue:0}),p[h.item_name].quantity+=h.quantity,p[h.item_name].revenue+=h.subtotal});const x=Object.entries(p).map(([h,w])=>({name:h,...w})).sort((h,w)=>w.revenue-h.revenue).slice(0,10);return{totalSales:d,totalOrders:f,averageOrderValue:m,paymentMethods:g,topItems:x}};if(o)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{children:"Loading reports..."})});const c=u();return a.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(P,{variant:"ghost",onClick:()=>t("/pos"),children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Back to POS"]}),a.jsx("h1",{className:"text-3xl font-bold flex-1",children:"Sales Reports"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[a.jsxs(B,{children:[a.jsxs(K,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Q,{className:"text-sm font-medium",children:"Total Sales"}),a.jsx(ys,{className:"h-4 w-4 text-gray-600"})]}),a.jsxs(q,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["$",c.totalSales.toFixed(2)]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"All time"})]})]}),a.jsxs(B,{children:[a.jsxs(K,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Q,{className:"text-sm font-medium",children:"Total Orders"}),a.jsx(Dn,{className:"h-4 w-4 text-gray-600"})]}),a.jsxs(q,{children:[a.jsx("div",{className:"text-2xl font-bold",children:c.totalOrders}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Completed orders"})]})]}),a.jsxs(B,{children:[a.jsxs(K,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(Q,{className:"text-sm font-medium",children:"Average Order Value"}),a.jsx(xs,{className:"h-4 w-4 text-gray-600"})]}),a.jsxs(q,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["$",c.averageOrderValue.toFixed(2)]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Per order"})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs(B,{children:[a.jsx(K,{children:a.jsx(Q,{children:"Payment Methods"})}),a.jsx(q,{children:a.jsxs("div",{className:"space-y-3",children:[Object.entries(c.paymentMethods).map(([d,f])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium capitalize",children:d}),a.jsxs("span",{className:"text-sm font-bold",children:["$",f.toFixed(2)]})]},d)),Object.keys(c.paymentMethods).length===0&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No payment data"})]})})]}),a.jsxs(B,{children:[a.jsx(K,{children:a.jsx(Q,{children:"Top Selling Items"})}),a.jsx(q,{children:a.jsxs("div",{className:"space-y-3",children:[c.topItems.map((d,f)=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",f+1]}),a.jsx("span",{className:"text-sm font-medium",children:d.name})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-bold",children:["$",d.revenue.toFixed(2)]}),a.jsxs("div",{className:"text-xs text-gray-600",children:[d.quantity," sold"]})]})]},d.name)),c.topItems.length===0&&a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No sales data"})]})})]})]})]})})}function kd(){const t=he(),{organization:e,userProfile:r,isAdmin:n}=Le();return a.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs(P,{variant:"ghost",onClick:()=>t("/pos"),children:[a.jsx(wt,{className:"h-4 w-4 mr-2"}),"Back to POS"]}),a.jsx("h1",{className:"text-3xl font-bold flex-1",children:"Settings"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(B,{children:[a.jsxs(K,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gs,{className:"h-5 w-5"}),a.jsx(Q,{children:"Organization"})]}),a.jsx(Te,{children:"Your business information"})]}),a.jsx(q,{className:"space-y-2",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),a.jsx("p",{className:"font-medium",children:e==null?void 0:e.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Business Type"}),a.jsx("p",{className:"font-medium capitalize",children:(e==null?void 0:e.business_type)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),a.jsx("p",{className:"font-medium",children:(e==null?void 0:e.email)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),a.jsx("p",{className:"font-medium",children:(e==null?void 0:e.phone)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Currency"}),a.jsx("p",{className:"font-medium",children:e==null?void 0:e.currency})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Timezone"}),a.jsx("p",{className:"font-medium",children:e==null?void 0:e.timezone})]})]})})]}),a.jsxs(B,{children:[a.jsxs(K,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vs,{className:"h-5 w-5"}),a.jsx(Q,{children:"Your Profile"})]}),a.jsx(Te,{children:"Your account information"})]}),a.jsx(q,{className:"space-y-2",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),a.jsxs("p",{className:"font-medium",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Role"}),a.jsx("p",{className:"font-medium capitalize",children:r==null?void 0:r.role})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),a.jsx("p",{className:"font-medium",children:(r==null?void 0:r.phone)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),a.jsx("p",{className:"font-medium",children:r!=null&&r.is_active?"Active":"Inactive"})]})]})})]}),a.jsxs(B,{children:[a.jsxs(K,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bs,{className:"h-5 w-5"}),a.jsx(Q,{children:"Payment Integration"})]}),a.jsx(Te,{children:"Helcim payment processing"})]}),a.jsx(q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Status"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-yellow-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Not Connected"})]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Helcim integration is coming soon. Currently, only cash payments are supported."}),n&&a.jsx(P,{disabled:!0,variant:"outline",children:"Connect Helcim Account"})]})})]}),a.jsxs(B,{children:[a.jsx(K,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ws,{className:"h-5 w-5"}),a.jsx(Q,{children:"Quick Actions"})]})}),a.jsxs(q,{className:"space-y-2",children:[a.jsx(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t("/orders"),children:"View Order History"}),a.jsx(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t("/reports"),children:"View Sales Reports"}),n&&a.jsx(P,{variant:"outline",className:"w-full justify-start",disabled:!0,children:"Manage Catalog (Coming Soon)"})]})]})]})]})})}const Dd=se(),it=({vb:t,s:e=18,fill:r="none",stroke:n="currentColor",sw:s=2,children:o})=>T.createElement("svg",{width:e,height:e,viewBox:t,fill:r,stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"},o),$={container:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f6f6f6",padding:24,textAlign:"center"},content:{display:"flex",flexDirection:"column",alignItems:"center",gap:24,maxWidth:420},errorCodeWrapper:{display:"flex",alignItems:"center",justifyContent:"center"},errorCode:{fontSize:120,fontWeight:800,lineHeight:1,color:"#4267ff",margin:0,letterSpacing:-4,textShadow:"0 4px 20px rgba(66, 103, 255, 0.3)"},textGroup:{display:"flex",flexDirection:"column",alignItems:"center",gap:8},titleRow:{display:"flex",alignItems:"center",gap:8,margin:0},pathText:{fontSize:20,fontWeight:600,color:"#4267ff"},titleText:{fontSize:20,fontWeight:600,color:"rgba(12, 12, 12, 0.95)"},description:{fontSize:15,lineHeight:1.5,color:"rgba(12, 12, 12, 0.55)",margin:0},buttonGroup:{display:"flex",gap:12,justifyContent:"center",flexWrap:"wrap"},btnBase:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:8,height:44,padding:"0 24px",fontSize:15,fontWeight:500,borderRadius:22,cursor:"pointer",transition:"all 0.2s ease"},outline:{color:"#4267ff",background:"transparent",border:"1.5px solid #4267ff"},outlineHover:{background:"rgba(66, 103, 255, 0.08)"},primary:{color:"#fff",background:"#4267ff",border:"none"},primaryHover:{background:"#425ce1"},overlay:{position:"fixed",inset:0,background:"rgba(12, 12, 12, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{background:"#fff",borderRadius:16,width:"90%",maxWidth:480,boxShadow:"0 20px 60px rgba(12, 12, 12, 0.2)",overflow:"hidden"},modalHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"20px 24px",borderBottom:"1px solid rgba(12, 12, 12, 0.08)"},modalTitle:{fontSize:18,fontWeight:600,color:"rgba(12, 12, 12, 0.95)",margin:0},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,background:"transparent",border:"none",borderRadius:8,cursor:"pointer",color:"rgba(12, 12, 12, 0.55)",transition:"all 0.2s ease"},closeButtonHover:{background:"rgba(12, 12, 12, 0.06)",color:"rgba(12, 12, 12, 0.95)"},modalBody:{padding:"20px 24px"},textarea:{width:"100%",minHeight:140,padding:"14px 16px",fontSize:15,lineHeight:1.5,color:"rgba(12, 12, 12, 0.95)",background:"#fff",border:"1.5px solid rgba(12, 12, 12, 0.12)",borderRadius:12,resize:"vertical",outline:"none",fontFamily:"inherit",boxSizing:"border-box",transition:"border-color 0.2s ease"},textareaFocus:{borderColor:"#4267ff"},modalFooter:{display:"flex",alignItems:"center",justifyContent:"center",gap:12,padding:"16px 24px 24px"}};function Ld(){var x;const t=window.self!==window.top&&((x=window.name)==null?void 0:x.includes("devIframe")),e=window.location.pathname,[r,n]=b.useState(!1),[s,o]=b.useState(""),[i,l]=b.useState({home:!1,primary:!1,close:!1,cancel:!1,submit:!1,focus:!1}),u=b.useMemo(()=>({outline:{...$.btnBase,...$.outline},primary:{...$.btnBase,...$.primary}}),[]),c=(h,w)=>l(S=>({...S,[h]:w})),d=()=>(Dd.frame.createPage({prompt:s||void 0}),n(!1),o("")),f=T.createElement(it,{vb:"0 0 24 24"},T.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),T.createElement("polyline",{points:"9 22 9 12 15 12 15 22"})),m=T.createElement(it,{vb:"0 0 24 24"},T.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),T.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),T.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"})),g=T.createElement(it,{vb:"0 0 24 24",s:20},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),p=T.createElement(it,{vb:"0 0 1024 1024",fill:"currentColor",stroke:"none",sw:0},T.createElement("path",{d:"M274.56 842.88c3.584-51.456 100.032-86.656 215.36-78.528 115.264 8.064 205.824 56.32 202.24 107.84-3.584 51.456-100.032 86.656-215.296 78.592-115.328-8.128-205.888-56.384-202.24-107.904zM700.672 547.712c27.072-119.616 105.536-203.776 175.168-187.968 69.632 15.808 104.128 125.632 76.992 245.248-27.136 119.616-105.6 203.712-175.168 187.968-69.632-15.808-104.128-125.632-76.992-245.248zM110.08 308.352C192.448 140.16 351.296 48.832 465.024 104.448c113.728 55.68 139.264 237.184 56.96 405.44-82.176 168.256-241.088 259.52-354.816 203.904-113.728-55.68-139.264-237.184-56.96-405.44zM589.248 83.2c17.6-26.24 95.808-4.608 174.72 48.256 78.848 52.864 128.64 116.992 111.04 143.232-17.536 26.24-95.744 4.672-174.72-48.192C621.44 173.632 571.776 109.44 589.312 83.2z"}));return T.createElement("div",{style:$.container},T.createElement("div",{style:$.content},T.createElement("div",{style:$.errorCodeWrapper},T.createElement("h1",{style:$.errorCode},"404")),T.createElement("div",{style:$.textGroup},T.createElement("div",{style:$.titleRow},T.createElement("span",{style:$.pathText},e),T.createElement("span",{style:$.titleText},"not found")),T.createElement("p",{style:$.description},"This page is not yet created.")),T.createElement("div",{style:$.buttonGroup},T.createElement("a",{href:"/",style:{...u.outline,...i.home?$.outlineHover:{},textDecoration:"none"},onMouseEnter:()=>c("home",!0),onMouseLeave:()=>c("home",!1)},f," Go Home"),t?T.createElement("button",{style:{...u.primary,...i.primary?$.primaryHover:{}},onMouseEnter:()=>c("primary",!0),onMouseLeave:()=>c("primary",!1),onClick:()=>n(!0)},m," Create"):T.createElement("button",{style:{...u.primary,...i.primary?$.primaryHover:{}},onMouseEnter:()=>c("primary",!0),onMouseLeave:()=>c("primary",!1),onClick:()=>window.location.href="https://atoms.dev"},p," Go to Atoms"))),r&&T.createElement("div",{style:$.overlay,onClick:()=>n(!1)},T.createElement("div",{style:$.modal,onClick:h=>h.stopPropagation()},T.createElement("div",{style:$.modalHeader},T.createElement("h3",{style:$.modalTitle},"Create Page"),T.createElement("button",{style:{...$.closeButton,...i.close?$.closeButtonHover:{}},onMouseEnter:()=>c("close",!0),onMouseLeave:()=>c("close",!1),onClick:()=>n(!1)},g)),T.createElement("div",{style:$.modalBody},T.createElement("textarea",{style:{...$.textarea,...i.focus?$.textareaFocus:{}},placeholder:"Add any additional context or requirements for the page...",value:s,onChange:h=>o(h.target.value),onFocus:()=>c("focus",!0),onBlur:()=>c("focus",!1)})),T.createElement("div",{style:$.modalFooter},T.createElement("button",{style:{...u.outline,...i.cancel?$.outlineHover:{}},onMouseEnter:()=>c("cancel",!0),onMouseLeave:()=>c("cancel",!1),onClick:()=>n(!1)},"Cancel"),T.createElement("button",{style:{...u.primary,...i.submit?$.primaryHover:{}},onMouseEnter:()=>c("submit",!0),onMouseLeave:()=>c("submit",!1),onClick:d},m," Create Page")))))}function ge({children:t}){const{isAuthenticated:e,loading:r,userProfile:n}=Le();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e?n?a.jsx(a.Fragment,{children:t}):a.jsx(sr,{to:"/onboarding",replace:!0}):a.jsx(sr,{to:"/login",replace:!0})}function Md(){return a.jsx(Za,{children:a.jsxs(es,{children:[a.jsx(ne,{path:"/login",element:a.jsx(pd,{})}),a.jsx(ne,{path:"/auth/callback",element:a.jsx(dd,{})}),a.jsx(ne,{path:"/onboarding",element:a.jsx(ge,{children:a.jsx(yd,{})})}),a.jsx(ne,{path:"/pos",element:a.jsx(ge,{children:a.jsx(Cd,{})})}),a.jsx(ne,{path:"/pos/checkout",element:a.jsx(ge,{children:a.jsx(Ad,{})})}),a.jsx(ne,{path:"/pos/receipt/:orderId",element:a.jsx(ge,{children:a.jsx(_d,{})})}),a.jsx(ne,{path:"/orders",element:a.jsx(ge,{children:a.jsx(Fd,{})})}),a.jsx(ne,{path:"/reports",element:a.jsx(ge,{children:a.jsx($d,{})})}),a.jsx(ne,{path:"/settings",element:a.jsx(ge,{children:a.jsx(kd,{})})}),a.jsx(ne,{path:"/",element:a.jsx(sr,{to:"/pos",replace:!0})}),a.jsx(ne,{path:"*",element:a.jsx(Ld,{})})]})})}Ln(document.getElementById("root")).render(a.jsx(Md,{}));
